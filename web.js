!function(t){function e(i){if(r[i])return r[i].exports;var a=r[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var i=window.webpackJsonp;window.webpackJsonp=function(r,n){for(var s,o,l=0,d=[];l<r.length;l++)o=r[l],a[o]&&d.push.apply(d,a[o]),a[o]=0;for(s in n)t[s]=n[s];for(i&&i(r,n);d.length;)d.shift().call(null,e)};var r={},a={0:0};return e.e=function(t,i){if(0===a[t])return i.call(null,e);if(void 0!==a[t])a[t].push(i);else{a[t]=[i];var r=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.charset="utf-8",n.async=!0,n.src=e.p+""+t+".b8b72713cbe998750f49.js",r.appendChild(n)}},e.m=t,e.c=r,e.p="",e(0)}([function(t,e,i){function r(){a.apply(null,location.hash.replace(/^#/,"").split("/"))}function a(t){t||(t="home");var e,r=Array.prototype.slice.call(arguments,1);s.stats||(r.unshift(t),t="upload");try{e=i(12)("./"+t+"/page.js")}catch(a){e=function(t){t(i(10))},r.unshift(a,t)}e(function(e){$(function(){l&&l(),l=e.apply(null,r),window.scrollTo(0,0),"upload"!==t&&n("send","pageview",{page:window.location.pathname.replace(/\/$/,"")+"/"+[t].concat(r).join("/"),title:document.title})})})}var n=i(9);i(50);var s=i(2),o="";window.addEventListener("hashchange",function(){location.hash!==o&&(o=location.hash,r())},!1),r();var l;s.loadPage=a},,function(t,e,i){function r(t){t.assets.sort(function(t,e){return e.size-t.size}),t.modules.sort(function(t,e){return t.id-e.id});var r={},n={},s={};t.modules.forEach(function(t,e){r[t.id]=t,n["$"+t.identifier]=t,s[t.uid=e]=t,t.dependencies=[]});var o={};t.chunks.forEach(function(t){o[t.id]=t,t.children=[]}),t.modules.forEach(function(t){t.reasons.forEach(function(e){var i=n["$"+e.moduleIdentifier];i&&(e.moduleUid=i.uid,i.dependencies.push({type:e.type,moduleId:t.id,moduleUid:t.uid,module:t.name,userRequest:e.userRequest,loc:e.loc}))}),t.issuerUid=n["$"+t.issuer]&&n["$"+t.issuer].uid,function e(t){if("number"==typeof t.timestamp)return t.timestamp;if(t.profile){var i=t.profile.factory||0,r=t.profile.building||0;if(t.time=i+r,!t.issuer)return t.timestamp=t.time;var a=n["$"+t.issuer];if(!a)return t.timestamp=0/0;e(a),t.timestamp=a.timestamp+t.time}}(t)}),t.chunks.forEach(function(t){t.parents.forEach(function(e){var i=o[e];i.children.push(t.id)}),t.origins.forEach(function(t){var e=n["$"+t.moduleIdentifier];e&&(t.moduleUid=e.uid)})}),t.modules.forEach(function(t){t.dependencies.sort(function(t,e){return t.loc||e.loc?t.loc?e.loc?(t=t.loc.split(/[:-]/),e=e.loc.split(/[:-]/),+t[0]<+e[0]?-1:+t[0]>+e[0]?1:+t[1]<+e[1]?-1:+t[1]>+e[1]?1:0):-1:1:0})});var l=0;t.assets.forEach(function(t){t.name.length>l&&(l=t.name.length)}),t.assets.forEach(function(t){for(t.normalizedName=t.name;t.normalizedName.length<l;)t.normalizedName=" "+t.normalizedName}),t.assets.sort(function(t,e){return t=t.normalizedName,e=e.normalizedName,e>t?-1:1}),e.stats=t,e.mapChunks=o,e.mapModules=r,e.mapModulesUid=s,e.mapModulesIdent=n;var d=i(9);d("set","dimension1",a(t.modules.length)+""),d("set","dimension2",a(t.chunks.length)+""),d("set","dimension3",a(t.assets.length)+""),d("set","dimension4",a(t.time)+"")}function a(t){if(0>=t)return 0;var e=1;do{if(10>=t)return t*e;e*=10,t=Math.floor(t/10)}while(t>0);return""}e.stats=null,e.mapModules=null,e.mapChunks=null,e.load=r},function(t,e,i){function r(t){return null!=t}/*!
	 * Jade - runtime
	 * Copyright(c) 2010 TJ Holowaychuk <tj@vision-media.ca>
	 * MIT Licensed
	 */
Array.isArray||(Array.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)}),Object.keys||(Object.keys=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e}),e.merge=function(t,e){var i=t["class"],a=e["class"];(i||a)&&(i=i||[],a=a||[],Array.isArray(i)||(i=[i]),Array.isArray(a)||(a=[a]),i=i.filter(r),a=a.filter(r),t["class"]=i.concat(a).join(" "));for(var n in e)"class"!=n&&(t[n]=e[n]);return t},e.attrs=function(t,i){var r=[],a=t.terse;delete t.terse;var n=Object.keys(t),s=n.length;if(s){r.push("");for(var o=0;s>o;++o){var l=n[o],d=t[l];"boolean"==typeof d||null==d?d&&r.push(a?l:l+'="'+l+'"'):r.push(0==l.indexOf("data")&&"string"!=typeof d?l+"='"+JSON.stringify(d)+"'":"class"==l&&Array.isArray(d)?l+'="'+e.escape(d.join(" "))+'"':i&&i[l]?l+'="'+e.escape(d)+'"':l+'="'+d+'"')}}return r.join(" ")},e.escape=function(t){return String(t).replace(/&(?!(\w+|\#\d+);)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},e.rethrow=function(t,e,r){if(!e)throw t;var a=3,n=i(47).readFileSync(e,"utf8"),s=n.split("\n"),o=Math.max(r-a,0),l=Math.min(s.length,r+a),a=s.slice(o,l).map(function(t,e){var i=e+o+1;return(i==r?"  > ":"    ")+i+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Jade")+":"+r+"\n"+a+"\n\n"+t.message,t}},function(t){t.exports=function(t,e){for(var i=0;i<t.length;i++)if(t[i].id===e)return t[i];return null}},function(t,e,i){var r=i(2),a=i(8),n=(i(4),i(6).greenRed),s=i(6).blue,o=document.getElementById("sigma-modules"),l=[],d=[],h=r.stats.modules.length,c=(r.stats.chunks.length,0),u=0;r.stats.modules.forEach(function(t){t.size>u&&(u=t.size),t.timestamp>c&&(c=t.timestamp)}),r.stats.modules.forEach(function(t,e){var i=n(Math.pow((t.size+1)/(u+1),.25)),a={},o=t.reasons.filter(function(t){var e=t.module;return a["$"+e]?!1:(a["$"+e]=!0,!0)}),g=t.uid;l.push({id:"module"+g,uid:g,moduleUid:g,moduleId:t.id,module:t,type:"webpack",size:t.size+1,label:"["+t.id+"] "+t.name,shortLabel:""+t.id,x:Math.cos(e/h*Math.PI*2)*Math.sqrt(o.length+1)*Math.sqrt(h),y:Math.sin(e/h*Math.PI*2)*Math.sqrt(o.length+1)*Math.sqrt(h),originalColor:i,color:i});var f="number"==typeof t.timestamp?s(t.timestamp/c):void 0;o.forEach(function(e){var i=e.moduleIdentifier,a=r.mapModulesIdent["$"+i];if(a){var n=1/o.length/o.length,s=!t.chunks.some(function(t){return function e(i,a){return 0===i.length?!1:i.indexOf(t)>=0?!0:(i=i.filter(function(t){return a.indexOf(t)<0}),0===i.length?!1:i.some(function(t){return e(r.mapChunks[t].parents,a.concat(t))}))}(a.chunks,[])});d.push({id:"edge"+t.uid+"-"+ +a.uid,sourceModuleUid:a.uid,sourceModule:a,source:"module"+a.uid,targetModule:t,targetModuleUid:t.uid,target:"module"+t.uid,arrow:"target",type:s?"dashedArrow":"arrow",lineDash:0===t.chunks.length?[2]:[5],originalColor:f,color:f,size:n,weight:s?n/4:n})}})});var g=new a({graph:{nodes:l,edges:d},renderer:{type:"canvas",container:o},settings:{edgeColor:"target",maxNodeSize:4,minNodeSize:4,maxEdgeSize:2,minEdgeSize:.05}}),f=null;g.bind("clickNode",function(t){window.location.hash=t.data.node.moduleUid===f?"#modules":"#module/"+t.data.node.moduleUid}),g.refresh(),e.show=function(){o.style.display="block",g.refresh(),g.startForceAtlas2(),g.renderers[0].resize()},e.hide=function(){o.style.display="none",g.stopForceAtlas2()},e.setNormal=function(){f=null,g.graph.nodes().forEach(function(t){t.color=t.originalColor,t.active=!1}),g.graph.edges().forEach(function(t){t.color=t.originalColor}),g.refresh()},e.setActiveModule=function(t){f=t;var e={},i=r.mapModulesUid[t];i.reasons.forEach(function(t){e[t.moduleUid]="#ff0000"}),i.dependencies.forEach(function(t){e[t.moduleUid]="#00aa00"}),e[t]="#000000",g.graph.nodes().forEach(function(t){t.color=e[t.moduleUid]||"#aaaaaa"}),g.graph.edges().forEach(function(e){e.color=e.targetModuleUid===t?"#ff0000":e.sourceModuleUid===t?"#00aa00":"#aaaaaa"}),g.refresh()},e.setActiveChunk=function(t){f=null,g.graph.nodes().forEach(function(e){var i=e.module;e.color=i.chunks.indexOf(t)>=0?"#000000":"#aaaaaa",e.active=!1}),g.graph.edges().forEach(function(e){var i=e.sourceModule,r=e.targetModule,a=i.chunks.indexOf(t)>=0,n=r.chunks.indexOf(t)>=0;e.color=a&&n?"#000000":a?"#00aa00":n?"#ff0000":"#aaaaaa"}),g.refresh()}},function(t,e){function i(t,e,i){t=(t%1+1)%1;var r=Math.floor(6*t),a=6*t-r,n=i*(1-e),s=i*(1-e*a),o=i*(1-e*(1-a));switch(r){case 0:return[i,o,n];case 1:return[s,i,n];case 2:return[n,i,o];case 3:return[n,s,i];case 4:return[o,n,i];case 5:return[i,n,s]}return[0,0,0]}function r(t){return"rgb("+t.map(function(t){return Math.floor(256*t)}).join(",")+")"}e.colorSpace=function(t){var e=i(t,1,.7);return r(e)},e.greenRed=function(t){var e=i((1-t)/3,1,.7);return r(e)},e.blue=function(t){var e=i(t/3+.5,1,.7);return r(e)}},,function(t,e,i){i(35),i(51),t.exports=sigma,sigma.canvas.labels.webpack=function(t,e,i){var r=t.label;t.shortLabel&&(t.label=t.shortLabel),sigma.canvas.labels.def(t,e,i),t.label=r},sigma.canvas.edges.dashedArrow=function(t,e,i,r,a){if(!r.getLineDash||!r.setLineDash)return sigma.canvas.edges.array(t,e,i,r,a);var n=r.getLineDash();r.setLineDash(t.lineDash||[5,5]),sigma.canvas.edges.arrow(t,e,i,r,a),r.setLineDash(n)},sigma.layout.forceatlas2.edgeWeightInfluence=.5,sigma.layout.forceatlas2.adjustSizes=!0},function(t){!function(t,e,i,r,a,n,s){t.GoogleAnalyticsObject=a,t[a]=t[a]||function(){(t[a].q=t[a].q||[]).push(arguments)},t[a].l=1*new Date,n=e.createElement(i),s=e.getElementsByTagName(i)[0],n.async=1,n.src=r,s.parentNode.insertBefore(n,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga");var e=window.ga;e("create","UA-46921629-1","webpack.github.io"),t.exports=function(){return window.ga.apply(window.ga,arguments)}},function(t,e,i){t.exports=function(t,e){document.title="error",$(".page").html(i(39)({err:t,page:e}))}},,function(t,e,i){function r(t){return i(a(t))}function a(t){return n[t]||function(){throw new Error("Cannot find module '"+t+"'.")}()}var n={"./assets/page.js":23,"./chunk/page.js":24,"./chunks/page.js":25,"./error/page.js":26,"./errors/page.js":27,"./hints/page.js":28,"./home/page.js":29,"./module/page.js":30,"./modules/page.js":31,"./upload/page.js":32,"./warnings/page.js":33};r.keys=function(){return Object.keys(n)},r.resolve=a,t.exports=r,r.id=12},,,,,,,,,,,function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(2,function(){r=i(13);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(6,function(){r=i(14);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(3,function(){r=i(15);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},!function(){r=i(10);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)}(i)},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(10,function(){r=i(16);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(5,function(){r=i(17);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(9,function(){r=i(18);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(1,function(){r=i(19);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(4,function(){r=i(20);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(8,function(){r=i(21);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t,e,i){var r,a=[];t.exports=function(t){a?a.push(t):t(r)},i.e(7,function(){r=i(22);var t=a;a=null;for(var e=0,n=t.length;n>e;e++)t[e](r)})},function(t){t.exports="table pre{margin-bottom:0}"},function(){(function(){var t=void 0,e=void 0;(function(){"use strict";var i={},r=function(t){var e,a,n,s,o;r.classes.dispatcher.extend(this);var l=this,d=t||{};if("string"==typeof d||d instanceof HTMLElement?d={renderers:[d]}:"[object Array]"===Object.prototype.toString.call(d)&&(d={renderers:d}),s=d.renderers||d.renderer||d.container,d.renderers&&0!==d.renderers.length||("string"==typeof s||s instanceof HTMLElement||"object"==typeof s&&"container"in s)&&(d.renderers=[s]),d.id){if(i[d.id])throw'sigma: Instance "'+d.id+'" already exists.';Object.defineProperty(this,"id",{value:d.id})}else{for(o=0;i[o];)o++;Object.defineProperty(this,"id",{value:""+o})}for(i[this.id]=this,this.settings=new r.classes.configurable(r.settings,d.settings||{}),Object.defineProperty(this,"graph",{value:new r.classes.graph(this.settings),configurable:!0}),Object.defineProperty(this,"middlewares",{value:[],configurable:!0}),Object.defineProperty(this,"cameras",{value:{},configurable:!0}),Object.defineProperty(this,"renderers",{value:{},configurable:!0}),Object.defineProperty(this,"renderersPerCamera",{value:{},configurable:!0}),Object.defineProperty(this,"cameraFrames",{value:{},configurable:!0}),this._handler=function(t){var e,i={};for(e in t.data)i[e]=t.data[e];i.renderer=t.target,this.dispatchEvent(t.type,i)}.bind(this),n=d.renderers||[],e=0,a=n.length;a>e;e++)this.addRenderer(n[e]);for(n=d.middlewares||[],e=0,a=n.length;a>e;e++)this.middlewares.push("string"==typeof n[e]?r.middlewares[n[e]]:n[e]);"object"==typeof d.graph&&d.graph&&(this.graph.read(d.graph),this.refresh()),window.addEventListener("resize",function(){l.settings&&l.refresh()})};if(r.prototype.addCamera=function(t){var e,i=this;if(!arguments.length){for(t=0;this.cameras[""+t];)t++;t=""+t}if(this.cameras[t])throw'sigma.addCamera: The camera "'+t+'" already exists.';return e=new r.classes.camera(t,this.graph,this.settings),this.cameras[t]=e,e.quadtree=new r.classes.quad,e.bind("coordinatesUpdated",function(){i.renderCamera(e,e.isAnimated)}),this.renderersPerCamera[t]=[],e},r.prototype.killCamera=function(t){if(t="string"==typeof t?this.cameras[t]:t,!t)throw"sigma.killCamera: The camera is undefined.";var e,i,r=this.renderersPerCamera[t.id];for(i=r.length,e=i-1;e>=0;e--)this.killRenderer(r[e]);return delete this.renderersPerCamera[t.id],delete this.cameraFrames[t.id],delete this.cameras[t.id],t.kill&&t.kill(),this},r.prototype.addRenderer=function(t){var e,i,a,n,s=t||{};if("string"==typeof s?s={container:document.getElementById(s)}:s instanceof HTMLElement&&(s={container:s}),"id"in s)e=s.id;else{for(e=0;this.renderers[""+e];)e++;e=""+e}if(this.renderers[e])throw'sigma.addRenderer: The renderer "'+e+'" already exists.';if(i="function"==typeof s.type?s.type:r.renderers[s.type],i=i||r.renderers.def,a="camera"in s?s.camera instanceof r.classes.camera?s.camera:this.cameras[s.camera]||this.addCamera(s.camera):this.addCamera(),this.cameras[a.id]!==a)throw"sigma.addRenderer: The camera is not properly referenced.";return n=new i(this.graph,a,this.settings,s),this.renderers[e]=n,Object.defineProperty(n,"id",{value:e}),n.bind&&n.bind(["click","clickStage","clickNode","clickNodes","overNode","overNodes","outNode","outNodes","downNode","downNodes","upNode","upNodes"],this._handler),this.renderersPerCamera[a.id].push(n),n},r.prototype.killRenderer=function(t){if(t="string"==typeof t?this.renderers[t]:t,!t)throw"sigma.killRenderer: The renderer is undefined.";var e=this.renderersPerCamera[t.camera.id],i=e.indexOf(t);return i>=0&&e.splice(i,1),t.kill&&t.kill(),delete this.renderers[t.id],this},r.prototype.refresh=function(){var t,e,i,a,n,s,o=0;for(a=this.middlewares||[],t=0,e=a.length;e>t;t++)a[t].call(this,0===t?"":"tmp"+o+":",t===e-1?"ready:":"tmp"+ ++o+":");for(i in this.cameras)n=this.cameras[i],n.settings("autoRescale")&&this.renderersPerCamera[n.id]&&this.renderersPerCamera[n.id].length?r.middlewares.rescale.call(this,a.length?"ready:":"",n.readPrefix,{width:this.renderersPerCamera[n.id][0].width,height:this.renderersPerCamera[n.id][0].height}):r.middlewares.copy.call(this,a.length?"ready:":"",n.readPrefix),s=r.utils.getBoundaries(this.graph,n.readPrefix),n.quadtree.index(this.graph.nodes(),{prefix:n.readPrefix,bounds:{x:s.minX,y:s.minY,width:s.maxX-s.minX,height:s.maxY-s.minY}});for(a=Object.keys(this.renderers),t=0,e=a.length;e>t;t++)if(this.renderers[a[t]].process)if(this.settings("skipErrors"))try{this.renderers[a[t]].process()}catch(l){console.log('Warning: The renderer "'+a[t]+'" crashed on ".process()"')}else this.renderers[a[t]].process();return this.render(),this},r.prototype.render=function(){var t,e,i;for(i=Object.keys(this.renderers),t=0,e=i.length;e>t;t++)if(this.settings("skipErrors"))try{this.renderers[i[t]].render()}catch(r){this.settings("verbose")&&console.log('Warning: The renderer "'+i[t]+'" crashed on ".render()"')}else this.renderers[i[t]].render();return this},r.prototype.renderCamera=function(t,e){var i,r,a,n=this;if(e)for(a=this.renderersPerCamera[t.id],i=0,r=a.length;r>i;i++)if(this.settings("skipErrors"))try{a[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+a[i].id+'" crashed on ".render()"')}else a[i].render();else if(!this.cameraFrames[t.id]){for(a=this.renderersPerCamera[t.id],i=0,r=a.length;r>i;i++)if(this.settings("skipErrors"))try{a[i].render()}catch(s){this.settings("verbose")&&console.log('Warning: The renderer "'+a[i].id+'" crashed on ".render()"')}else a[i].render();this.cameraFrames[t.id]=requestAnimationFrame(function(){delete n.cameraFrames[t.id]})}return this},r.prototype.kill=function(){var t;this.graph.kill(),delete this.middlewares;for(t in this.renderers)this.killRenderer(this.renderers[t]);for(t in this.cameras)this.killCamera(this.cameras[t]);delete this.renderers,delete this.cameras;for(t in this)this.hasOwnProperty(t)&&delete this[t];delete i[this.id]},r.instances=function(t){return arguments.length?i[t]:r.utils.extends({},i)},"undefined"!=typeof this.sigma)throw"An object called sigma is already in the global scope.";"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=r),e.sigma=r):this.sigma=r}).call(this),function(i){"use strict";function r(t,e){var i,a,n;if(arguments.length)if(1===arguments.length&&Object(arguments[0])===arguments[0])for(t in arguments[0])r(t,arguments[0][t]);else if(arguments.length>1){n=Array.isArray(t)?t:t.split(/ /);for(i in n)a=n[i],N[a]||(N[a]=[]),N[a].push({handler:e})}}function a(t,e){var i,r,a,n,s=Array.isArray(t)?t:t.split(/ /);if(arguments.length)if(e)for(i in s){if(n=s[i],N[n]){a=[];for(r in N[n])N[n][r].handler!==e&&a.push(N[n][r]);N[n]=a}N[n]&&0===N[n].length&&delete N[n]}else for(i in s)delete N[s[i]];else N=Object.create(null)}function n(t,e){var i,r,a,n,s=Array.isArray(t)?t:t.split(/ /);e=void 0===e?{}:e;for(i in s)if(n=s[i],N[n]){a={type:n,data:e||{}};for(r in N[n])try{N[n][r].handler(a)}catch(o){}}}function s(){var t,e,i,r,a=!1,n=v(),s=T.shift();if(i=s.job(),n=v()-n,s.done++,s.time+=n,s.currentTime+=n,s.weightTime=s.currentTime/(s.weight||1),s.averageTime=s.time/s.done,r=s.count?s.count<=s.done:!i,!r){for(t=0,e=T.length;e>t;t++)if(T[t].weightTime>s.weightTime){T.splice(t,0,s),a=!0;break}a||T.push(s)}return r?s:null}function o(t){var e=T.length;_[t.id]=t,t.status="running",e&&(t.weightTime=T[e-1].weightTime,t.currentTime=t.weightTime*(t.weight||1)),t.startTime=v(),n("jobStarted",x(t)),T.push(t)}function l(){var t,e,i;for(t in E)e=E[t],e.after?M[t]=e:o(e),delete E[t];for(A=!!T.length;T.length&&v()-w<P.frameDuration;)if(i=s()){h(i.id);for(t in M)M[t].after===i.id&&(o(M[t]),delete M[t])}A?(w=v(),n("enterFrame"),setTimeout(l,0)):n("stop")}function d(t,e){var i,r,a;if(Array.isArray(t)){for(R=!0,i=0,r=t.length;r>i;i++)d(t[i].id,y(t[i],e));R=!1,A||(w=v(),n("start"),l())}else if("object"==typeof t)if("string"==typeof t.id)d(t.id,t);else{R=!0;for(i in t)"function"==typeof t[i]?d(i,y({job:t[i]},e)):d(i,y(t[i],e));R=!1,A||(w=v(),n("start"),l())}else{if("string"!=typeof t)throw new Error("[conrad.addJob] Wrong arguments.");if(u(t))throw new Error('[conrad.addJob] Job with id "'+t+'" already exists.');if("function"==typeof e)a={id:t,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0,job:e};else{if("object"!=typeof e)throw new Error("[conrad.addJob] Wrong arguments.");a=y({id:t,done:0,time:0,status:"waiting",currentTime:0,averageTime:0,weightTime:0},e)}E[t]=a,n("jobAdded",x(a)),A||R||(w=v(),n("start"),l())}return this}function h(t){var e,i,r,a,s=!1;if(Array.isArray(t))for(e=0,i=t.length;i>e;e++)h(t[e]);else{if("string"!=typeof t)throw new Error("[conrad.killJob] Wrong arguments.");for(r=[_,M,E],e=0,i=r.length;i>e;e++)t in r[e]&&(a=r[e][t],P.history&&(a.status="done",S.push(a)),n("jobEnded",x(a)),delete r[e][t],"function"==typeof a.end&&a.end(),s=!0);for(r=T,e=0,i=r.length;i>e;e++)if(r[e].id===t){r.splice(e,1);break}if(!s)throw new Error('[conrad.killJob] Job "'+t+'" not found.')}return this}function c(){var t,e=y(E,_,M);if(P.history)for(t in e)e[t].status="done",S.push(e[t]),"function"==typeof e[t].end&&e[t].end();return E={},M={},_={},T=[],A=!1,this}function u(t){var e=E[t]||_[t]||M[t];return e?y(e):null}function g(){var t;if("string"==typeof a1&&1===arguments.length)return P[a1];t="object"==typeof a1&&1===arguments.length?a1||{}:{},"string"==typeof a1&&(t[a1]=a2);for(var e in t)void 0!==t[e]?P[e]=t[e]:delete P[e];return this}function f(){return A}function m(){return S=[],this}function p(t,e){var i,r,a,n,s,o,l;if(!arguments.length){s=[];for(r in E)s.push(E[r]);for(r in M)s.push(M[r]);for(r in _)s.push(_[r]);s=s.concat(S)}if("string"==typeof t)switch(t){case"waiting":s=b(M);break;case"running":s=b(_);break;case"done":s=S;break;default:o=t}if(t instanceof RegExp&&(o=t),!o&&("string"==typeof e||e instanceof RegExp)&&(o=e),o){if(l="string"==typeof o,s instanceof Array)i=s;else if("object"==typeof s){i=[];for(r in s)i=i.concat(s[r])}else{i=[];for(r in E)i.push(E[r]);for(r in M)i.push(M[r]);for(r in _)i.push(_[r]);i=i.concat(S)}for(s=[],a=0,n=i.length;n>a;a++)(l?i[a].id===o:i[a].id.match(o))&&s.push(i[a])}return x(s)}function y(){var t,e,i={},r=arguments.length;for(t=r-1;t>=0;t--)for(e in arguments[t])i[e]=arguments[t][e];return i}function x(t){var e,i,r;if(!t)return t;if(Array.isArray(t))for(e=[],i=0,r=t.length;r>i;i++)e.push(x(t[i]));else if("object"==typeof t){e={};for(i in t)e[i]=x(t[i])}else e=t;return e}function b(t){var e,i=[];for(e in t)i.push(t[e]);return i}function v(){return Date.now?Date.now():(new Date).getTime()}if(i.conrad)throw new Error("conrad already exists");var w,A=!1,E={},_={},T=[],M={},S=[],R=!1,P={frameDuration:20,history:!0},N=Object.create(null);Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var C={hasJob:u,addJob:d,killJob:h,killAll:c,settings:g,getStats:p,isRunning:f,clearHistory:m,bind:r,unbind:a,version:"0.1.0"};"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=C),e.conrad=C):i.conrad=C}(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var e=this;sigma.utils=sigma.utils||{},sigma.utils.extend=function(){var t,e,i={},r=arguments.length;for(t=r-1;t>=0;t--)for(e in arguments[t])i[e]=arguments[t][e];return i},sigma.utils.dateNow=function(){return Date.now?Date.now():(new Date).getTime()},sigma.utils.pkg=function(t){return(t||"").split(".").reduce(function(t,e){return e in t?t[e]:t[e]={}},e)},sigma.utils.id=function(){var t=0;return function(){return++t}}(),sigma.utils.floatColor=function(t){var e=[0,0,0];return t.match(/^#/)?(t=(t||"").replace(/^#/,""),e=3===t.length?[parseInt(t.charAt(0)+t.charAt(0),16),parseInt(t.charAt(1)+t.charAt(1),16),parseInt(t.charAt(2)+t.charAt(2),16)]:[parseInt(t.charAt(0)+t.charAt(1),16),parseInt(t.charAt(2)+t.charAt(3),16),parseInt(t.charAt(4)+t.charAt(5),16)]):t.match(/^ *rgba? *\(/)&&(t=t.match(/^ *rgba? *\( *([0-9]*) *, *([0-9]*) *, *([0-9]*) *(,.*)?\) *$/),e=[+t[1],+t[2],+t[3]]),256*e[0]*256+256*e[1]+e[2]},sigma.utils.getX=function(e){return e.offsetX!==t&&e.offsetX||e.layerX!==t&&e.layerX||e.clientX!==t&&e.clientX},sigma.utils.getY=function(e){return e.offsetY!==t&&e.offsetY||e.layerY!==t&&e.layerY||e.clientY!==t&&e.clientY},sigma.utils.getDelta=function(e){return e.wheelDelta!==t&&e.wheelDelta||e.detail!==t&&-e.detail},sigma.utils.getOffset=function(t){for(var e=0,i=0;t;)i+=parseInt(t.offsetTop),e+=parseInt(t.offsetLeft),t=t.offsetParent;return{top:i,left:e}},sigma.utils.doubleClick=function(t,e,i){var r=0;t.addEventListener(e,function(t){return r++,2===r?(r=0,i(t)):void(1===r&&setTimeout(function(){r=0},sigma.settings.doubleClickTimeout))},!1)},sigma.utils.easings=sigma.utils.easings||{},sigma.utils.easings.linearNone=function(t){return t},sigma.utils.easings.quadraticIn=function(t){return t*t},sigma.utils.easings.quadraticOut=function(t){return t*(2-t)},sigma.utils.easings.quadraticInOut=function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},sigma.utils.easings.cubicIn=function(t){return t*t*t},sigma.utils.easings.cubicOut=function(t){return--t*t*t+1},sigma.utils.easings.cubicInOut=function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},sigma.utils.loadShader=function(t,e,i,r){var a,n=t.createShader(i);return t.shaderSource(n,e),t.compileShader(n),a=t.getShaderParameter(n,t.COMPILE_STATUS),a?n:(r&&r('Error compiling shader "'+n+'":'+t.getShaderInfoLog(n)),t.deleteShader(n),null)},sigma.utils.loadProgram=function(t,e,i,r,a){var n,s,o=t.createProgram();for(n=0;n<e.length;++n)t.attachShader(o,e[n]);if(i)for(n=0;n<i.length;++n)t.bindAttribLocation(o,locations?locations[n]:n,opt_attribs[n]);return t.linkProgram(o),s=t.getProgramParameter(o,t.LINK_STATUS),s?o:(a&&a("Error in program linking: "+t.getProgramInfoLog(o)),t.deleteProgram(o),null)},sigma.utils.pkg("sigma.utils.matrices"),sigma.utils.matrices.translation=function(t,e){return[1,0,0,0,1,0,t,e,1]},sigma.utils.matrices.rotation=function(t,e){var i=Math.cos(t),r=Math.sin(t);return e?[i,-r,r,i]:[i,-r,0,r,i,0,0,0,1]},sigma.utils.matrices.scale=function(t,e){return e?[t,0,0,t]:[t,0,0,0,t,0,0,0,1]},sigma.utils.matrices.multiply=function(t,e,i){var r=i?2:3,a=t[0*r+0],n=t[0*r+1],s=t[0*r+2],o=t[1*r+0],l=t[1*r+1],d=t[1*r+2],h=t[2*r+0],c=t[2*r+1],u=t[2*r+2],g=e[0*r+0],f=e[0*r+1],m=e[0*r+2],p=e[1*r+0],y=e[1*r+1],x=e[1*r+2],b=e[2*r+0],v=e[2*r+1],w=e[2*r+2];return i?[a*g+n*p,a*f+n*y,o*g+l*p,o*f+l*y]:[a*g+n*p+s*b,a*f+n*y+s*v,a*m+n*x+s*w,o*g+l*p+d*b,o*f+l*y+d*v,o*m+l*x+d*w,h*g+c*p+u*b,h*f+c*y+u*v,h*m+c*x+u*w]}}.call(this),function(){"use strict";var t,e=0,i=["ms","moz","webkit","o"];for(t=0;t<i.length&&!window.requestAnimationFrame;t++)window.requestAnimationFrame=window[i[t]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i[t]+"CancelAnimationFrame"]||window[i[t]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var i=(new Date).getTime(),r=Math.max(0,16-(i-e)),a=window.setTimeout(function(){t(i+r)},r);return e=i+r,a}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(t){clearTimeout(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e,i,r=Array.prototype.slice.call(arguments,1),a=this;return e=function(){},i=function(){return a.apply(this instanceof e&&t?this:t,r.concat(Array.prototype.slice.call(arguments)))},e.prototype=this.prototype,i.prototype=new e,i})}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.settings");var t={clone:!0,immutable:!0,verbose:!1,defaultLabelColor:"#000",defaultEdgeColor:"#000",defaultNodeColor:"#000",defaultLabelSize:14,edgeColor:"source",font:"arial",fontStyle:"",labelColor:"default",labelSize:"fixed",labelSizeRatio:1,labelThreshold:8,webglOversamplingRatio:2,borderSize:0,defaultNodeBorderColor:"#000",hoverFont:"",hoverFontStyle:"",labelHoverShadow:"default",labelHoverShadowColor:"#000",nodeHoverColor:"node",defaultNodeHoverColor:"#000",labelHoverBGColor:"default",defaultHoverLabelBGColor:"#fff",labelHoverColor:"default",defaultLabelHoverColor:"#000",drawLabels:!0,drawEdges:!0,drawNodes:!0,batchEdgesDrawing:!1,hideEdgesOnMove:!1,canvasEdgesBatchSize:500,webglEdgesBatchSize:1e3,scalingMode:"inside",sideMargin:0,minEdgeSize:.5,maxEdgeSize:1,minNodeSize:1,maxNodeSize:8,touchEnabled:!0,mouseEnabled:!0,eventsEnabled:!0,zoomingRatio:1.7,doubleClickZoomingRatio:2.2,zoomMin:.0625,zoomMax:2,mouseZoomDuration:200,doubleClickZoomDuration:200,mouseInertiaDuration:200,mouseInertiaRatio:3,touchInertiaDuration:200,touchInertiaRatio:3,doubleClickTimeout:300,doubleTapTimeout:300,dragTimeout:200,autoResize:!0,autoRescale:!0,enableCamera:!0,enableHovering:!0,rescaleIgnoreSize:!1,skipErrors:!1,nodesPowRatio:.5,edgesPowRatio:.5,animationsTime:200};sigma.settings=sigma.utils.extend(sigma.settings||{},t)}.call(this),function(){"use strict";var i=function(){Object.defineProperty(this,"_handlers",{value:{}})};i.prototype.bind=function(t,e){var i,r,a;if(1===arguments.length&&"object"==typeof arguments[0])for(t in arguments[0])this.bind(t,arguments[0][t]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";a="string"==typeof t?t.split(" "):t;for(i in a)r=a[i],r&&(this._handlers[r]||(this._handlers[r]=[]),this._handlers[r].push({handler:e}))}return this},i.prototype.unbind=function(t,e){var i,r,a,n,s="string"==typeof t?t.split(" "):t;if(!arguments.length){for(i in this._handlers)delete this._handlers[i];return this}if(e)for(i in s){if(n=s[i],this._handlers[n]){a=[];for(r in this._handlers[n])this._handlers[n][r].handler!==e&&a.push(this._handlers[n][r]);this._handlers[n]=a}this._handlers[n]&&0===this._handlers[n].length&&delete this._handlers[n]}else for(i in s)delete this._handlers[s[i]];return this},i.prototype.dispatchEvent=function(t,e){var i,r,a,n,s,o=this,l="string"==typeof t?t.split(" "):t;e=void 0===e?{}:e;for(i in l)if(s=l[i],this._handlers[s]){n=o.getEvent(s,e),a=[];for(r in this._handlers[s])this._handlers[s][r].handler(n),this._handlers[s][r].one||a.push(this._handlers[s][r]);this._handlers[s]=a}return this},i.prototype.getEvent=function(t,e){return{type:t,data:e||{},target:this}},i.extend=function(t,e){var r;for(r in i.prototype)i.prototype.hasOwnProperty(r)&&(t[r]=i.prototype[r]);i.apply(t,e)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=i):"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.dispatcher=i):this.dispatcher=i}.call(this),function(){"use strict";var i=function(){var t,e,r={},a=Array.prototype.slice.call(arguments,0),n=function(i,s){var o,l;if(1===arguments.length&&"string"==typeof i){if(i in r&&void 0!==r[i])return r[i];for(t=0,e=a.length;e>t;t++)if(i in a[t]&&void 0!==a[t][i])return a[t][i];return void 0}if("object"==typeof i&&"string"==typeof s)return s in(i||{})?i[s]:n(s);o="object"==typeof i&&void 0===s?i:{},"string"==typeof i&&(o[i]=s);for(l in o)r[l]=o[l];return this};for(n.embedObjects=function(){var t=a.concat(r).concat(Array.prototype.splice.call(arguments,0));return i.apply({},t)},t=0,e=arguments.length;e>t;t++)n(arguments[t]);return n};"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.configurable=i):"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=i),e.configurable=i):this.configurable=i}.call(this),function(){"use strict";function i(t,e,i){var r=function(){var r,a;a=i.apply(e,arguments);for(r in o[t])o[t][r].apply(e,arguments);return a};return r}function r(t){var e;for(e in t)"hasOwnProperty"in t&&!t.hasOwnProperty(e)||delete t[e];return t}var a=Object.create(null),n=Object.create(null),s=Object.create(null),o=Object.create(null),l={immutable:!0,clone:!0},d=function(t){return l[t]},h=function(t){var e,r,n;n={settings:t||d,nodesArray:[],edgesArray:[],nodesIndex:Object.create(null),edgesIndex:Object.create(null),inNeighborsIndex:Object.create(null),outNeighborsIndex:Object.create(null),allNeighborsIndex:Object.create(null),inNeighborsCount:Object.create(null),outNeighborsCount:Object.create(null),allNeighborsCount:Object.create(null)};for(e in s)s[e].call(n);for(e in a)r=i(e,n,a[e]),this[e]=r,n[e]=r};h.addMethod=function(t,e){if("string"!=typeof t||"function"!=typeof e||2!==arguments.length)throw"addMethod: Wrong arguments.";if(a[t])throw'The method "'+t+'" already exists.';return a[t]=e,o[t]=Object.create(null),this},h.attach=function(t,e,i){if("string"!=typeof t||"string"!=typeof e||"function"!=typeof i||3!==arguments.length)throw"attach: Wrong arguments.";var r;if("constructor"===t)r=s;else{if(!o[t])throw'The method "'+t+'" does not exist.';r=o[t]}if(r[e])throw'A function "'+e+'" is already attached to the method "'+t+'".';return r[e]=i,this},h.addIndex=function(t,e){if("string"!=typeof t||Object(e)!==e||2!==arguments.length)throw"addIndex: Wrong arguments.";if(n[t])throw'The index "'+t+'" already exists.';var i;n[t]=e;for(i in e){if("function"!=typeof e[i])throw"The bindings must be functions.";h.attach(i,t,e[i])}return this},h.addMethod("addNode",function(t){if(Object(t)!==t||1!==arguments.length)throw"addNode: Wrong arguments.";if("string"!=typeof t.id)throw"The node must have a string id.";if(this.nodesIndex[t.id])throw'The node "'+t.id+'" already exists.';var e,i=t.id,r=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&(r[e]=t[e]);else r=t;return this.settings("immutable")?Object.defineProperty(r,"id",{value:i,enumerable:!0}):r.id=i,this.inNeighborsIndex[i]=Object.create(null),this.outNeighborsIndex[i]=Object.create(null),this.allNeighborsIndex[i]=Object.create(null),this.inNeighborsCount[i]=0,this.outNeighborsCount[i]=0,this.allNeighborsCount[i]=0,this.nodesArray.push(r),this.nodesIndex[r.id]=r,this}),h.addMethod("addEdge",function(t){if(Object(t)!==t||1!==arguments.length)throw"addEdge: Wrong arguments.";if("string"!=typeof t.id)throw"The edge must have a string id.";if("string"!=typeof t.source||!this.nodesIndex[t.source])throw"The edge source must have an existing node id.";if("string"!=typeof t.target||!this.nodesIndex[t.target])throw"The edge target must have an existing node id.";if(this.edgesIndex[t.id])throw'The edge "'+t.id+'" already exists.';var e,i=Object.create(null);if(this.settings("clone"))for(e in t)"id"!==e&&"source"!==e&&"target"!==e&&(i[e]=t[e]);else i=t;return this.settings("immutable")?(Object.defineProperty(i,"id",{value:t.id,enumerable:!0}),Object.defineProperty(i,"source",{value:t.source,enumerable:!0}),Object.defineProperty(i,"target",{value:t.target,enumerable:!0})):(i.id=t.id,i.source=t.source,i.target=t.target),this.edgesArray.push(i),this.edgesIndex[i.id]=i,this.inNeighborsIndex[t.target][t.source]||(this.inNeighborsIndex[t.target][t.source]=Object.create(null)),this.inNeighborsIndex[t.target][t.source][t.id]=t,this.outNeighborsIndex[t.source][t.target]||(this.outNeighborsIndex[t.source][t.target]=Object.create(null)),this.outNeighborsIndex[t.source][t.target][t.id]=t,this.allNeighborsIndex[t.source][t.target]||(this.allNeighborsIndex[t.source][t.target]=Object.create(null)),this.allNeighborsIndex[t.source][t.target][t.id]=t,this.allNeighborsIndex[t.target][t.source]||(this.allNeighborsIndex[t.target][t.source]=Object.create(null)),this.allNeighborsIndex[t.target][t.source][t.id]=t,this.inNeighborsCount[t.target]++,this.outNeighborsCount[t.source]++,this.allNeighborsCount[t.target]++,this.allNeighborsCount[t.source]++,this}),h.addMethod("dropNode",function(t){if("string"!=typeof t||1!==arguments.length)throw"dropNode: Wrong arguments.";if(!this.nodesIndex[t])throw'The node "'+t+'" does not exist.';var e,i,r;for(delete this.nodesIndex[t],e=0,r=this.nodesArray.length;r>e;e++)if(this.nodesArray[e].id===t){this.nodesArray.splice(e,1);break}for(e=this.edgesArray.length-1;e>=0;e--)(this.edgesArray[e].source===t||this.edgesArray[e].target===t)&&this.dropEdge(this.edgesArray[e].id);delete this.inNeighborsIndex[t],delete this.outNeighborsIndex[t],delete this.allNeighborsIndex[t],delete this.inNeighborsCount[t],delete this.outNeighborsCount[t],delete this.allNeighborsCount[t];
for(i in this.nodesIndex)delete this.inNeighborsIndex[i][t],delete this.outNeighborsIndex[i][t],delete this.allNeighborsIndex[i][t];return this}),h.addMethod("dropEdge",function(t){if("string"!=typeof t||1!==arguments.length)throw"dropEdge: Wrong arguments.";if(!this.edgesIndex[t])throw'The edge "'+t+'" does not exist.';var e,i,r;for(r=this.edgesIndex[t],delete this.edgesIndex[t],e=0,i=this.edgesArray.length;i>e;e++)if(this.edgesArray[e].id===t){this.edgesArray.splice(e,1);break}return delete this.inNeighborsIndex[r.target][r.source][r.id],Object.keys(this.inNeighborsIndex[r.target][r.source]).length||delete this.inNeighborsIndex[r.target][r.source],delete this.outNeighborsIndex[r.source][r.target][r.id],Object.keys(this.outNeighborsIndex[r.source][r.target]).length||delete this.outNeighborsIndex[r.source][r.target],delete this.allNeighborsIndex[r.source][r.target][r.id],Object.keys(this.allNeighborsIndex[r.source][r.target]).length||delete this.allNeighborsIndex[r.source][r.target],delete this.allNeighborsIndex[r.target][r.source][r.id],Object.keys(this.allNeighborsIndex[r.target][r.source]).length||delete this.allNeighborsIndex[r.target][r.source],this.inNeighborsCount[r.target]--,this.outNeighborsCount[r.source]--,this.allNeighborsCount[r.source]--,this.allNeighborsCount[r.target]--,this}),h.addMethod("kill",function(){this.nodesArray.length=0,this.edgesArray.length=0,delete this.nodesArray,delete this.edgesArray,delete this.nodesIndex,delete this.edgesIndex,delete this.inNeighborsIndex,delete this.outNeighborsIndex,delete this.allNeighborsIndex,delete this.inNeighborsCount,delete this.outNeighborsCount,delete this.allNeighborsCount}),h.addMethod("clear",function(){return this.nodesArray.length=0,this.edgesArray.length=0,r(this.nodesIndex),r(this.edgesIndex),r(this.nodesIndex),r(this.inNeighborsIndex),r(this.outNeighborsIndex),r(this.allNeighborsIndex),r(this.inNeighborsCount),r(this.outNeighborsCount),r(this.allNeighborsCount),this}),h.addMethod("read",function(t){var e,i,r;for(i=t.nodes||[],e=0,r=i.length;r>e;e++)this.addNode(i[e]);for(i=t.edges||[],e=0,r=i.length;r>e;e++)this.addEdge(i[e]);return this}),h.addMethod("nodes",function(t){if(!arguments.length)return this.nodesArray.slice(0);if(1===arguments.length&&"string"==typeof t)return this.nodesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,i,r=[];for(e=0,i=t.length;i>e;e++){if("string"!=typeof t[e])throw"nodes: Wrong arguments.";r.push(this.nodesIndex[t[e]])}return r}throw"nodes: Wrong arguments."}),h.addMethod("degree",function(t,e){if(e={"in":this.inNeighborsCount,out:this.outNeighborsCount}[e||""]||this.allNeighborsCount,"string"==typeof t)return e[t];if("[object Array]"===Object.prototype.toString.call(t)){var i,r,a=[];for(i=0,r=t.length;r>i;i++){if("string"!=typeof t[i])throw"degree: Wrong arguments.";a.push(e[t[i]])}return a}throw"degree: Wrong arguments."}),h.addMethod("edges",function(t){if(!arguments.length)return this.edgesArray.slice(0);if(1===arguments.length&&"string"==typeof t)return this.edgesIndex[t];if(1===arguments.length&&"[object Array]"===Object.prototype.toString.call(t)){var e,i,r=[];for(e=0,i=t.length;i>e;e++){if("string"!=typeof t[e])throw"edges: Wrong arguments.";r.push(this.edgesIndex[t[e]])}return r}throw"edges: Wrong arguments."}),"undefined"!=typeof sigma?(sigma.classes=sigma.classes||Object.create(null),sigma.classes.graph=h):"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=h),e.graph=h):this.graph=h}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.classes"),sigma.classes.camera=function(t,e,i,r){sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"graph",{value:e}),Object.defineProperty(this,"id",{value:t}),Object.defineProperty(this,"readPrefix",{value:"read_cam"+t+":"}),Object.defineProperty(this,"prefix",{value:"cam"+t+":"}),this.x=0,this.y=0,this.ratio=1,this.angle=0,this.isAnimated=!1,this.settings="object"==typeof r&&r?i.embedObject(r):i},sigma.classes.camera.prototype.goTo=function(e){if(!this.settings("enableCamera"))return this;var i,r,a=e||{},n=["x","y","ratio","angle"];for(i=0,r=n.length;r>i;i++)if(a[n[i]]!==t){if("number"!=typeof a[n[i]]||isNaN(a[n[i]]))throw'Value for "'+n[i]+'" is not a number.';this[n[i]]=a[n[i]]}return this.dispatchEvent("coordinatesUpdated"),this},sigma.classes.camera.prototype.applyView=function(e,i,r){r=r||{},i=i!==t?i:this.prefix,e=e!==t?e:this.readPrefix;var a,n,s,o=r.nodes||this.graph.nodes(),l=r.edges||this.graph.edges(),d=Math.cos(this.angle),h=Math.sin(this.angle);for(a=0,n=o.length;n>a;a++)s=o[a],s[i+"x"]=(((s[e+"x"]||0)-this.x)*d+((s[e+"y"]||0)-this.y)*h)/this.ratio+(r.width||0)/2,s[i+"y"]=(((s[e+"y"]||0)-this.y)*d-((s[e+"x"]||0)-this.x)*h)/this.ratio+(r.height||0)/2,s[i+"size"]=(s[e+"size"]||0)/Math.pow(this.ratio,this.settings("nodesPowRatio"));for(a=0,n=l.length;n>a;a++)l[a][i+"size"]=(l[a][e+"size"]||0)/Math.pow(this.ratio,this.settings("edgesPowRatio"));return this},sigma.classes.camera.prototype.graphPosition=function(t,e,i){var r=0,a=0,n=Math.cos(this.angle),s=Math.sin(this.angle);return i||(r=-(this.x*n+this.y*s)/this.ratio,a=-(this.y*n-this.x*s)/this.ratio),{x:(t*n+e*s)/this.ratio+r,y:(e*n-t*s)/this.ratio+a}},sigma.classes.camera.prototype.cameraPosition=function(t,e,i){var r=0,a=0,n=Math.cos(this.angle),s=Math.sin(this.angle);return i||(r=-(this.x*n+this.y*s)/this.ratio,a=-(this.y*n-this.x*s)/this.ratio),{x:((t-r)*n-(e-a)*s)*this.ratio,y:((e-a)*n+(t-r)*s)*this.ratio}},sigma.classes.camera.prototype.getMatrix=function(){var t=sigma.utils.matrices.scale(1/this.ratio),e=sigma.utils.matrices.rotation(this.angle),i=sigma.utils.matrices.translation(-this.x,-this.y),r=sigma.utils.matrices.multiply(i,sigma.utils.matrices.multiply(e,t));return r},sigma.classes.camera.prototype.getRectangle=function(t,e){var i=this.cameraPosition(t,0,!0),r=this.cameraPosition(0,e,!0),a=this.cameraPosition(t/2,e/2,!0),n=this.cameraPosition(t/4,0,!0).x,s=this.cameraPosition(0,e/4,!0).y;return{x1:this.x-a.x-n,y1:this.y-a.y-s,x2:this.x-a.x+n+i.x,y2:this.y-a.y-s+i.y,height:Math.sqrt(Math.pow(r.x,2)+Math.pow(r.y+2*s,2))}}}.call(this),function(i){"use strict";function r(t,e){var i=e.x+e.width/2,r=e.y+e.height/2,a=t.y<r,n=t.x<i;return a?n?0:1:n?2:3}function a(t,e){for(var i=[],r=0;4>r;r++)t.x2>=e[r][0].x&&t.x1<=e[r][1].x&&t.y1+t.height>=e[r][0].y&&t.y1<=e[r][2].y&&i.push(r);return i}function n(t,e){for(var i=[],r=0;4>r;r++)c.collision(t,e[r])&&i.push(r);return i}function s(t,e){var i,r,a=e.level+1,n=Math.round(e.bounds.width/2),s=Math.round(e.bounds.height/2),o=Math.round(e.bounds.x),l=Math.round(e.bounds.y);switch(t){case 0:i=o,r=l;break;case 1:i=o+n,r=l;break;case 2:i=o,r=l+s;break;case 3:i=o+n,r=l+s}return h({x:i,y:r,width:n,height:s},a,e.maxElements,e.maxLevel)}function o(t,e,r){if(r.level<r.maxLevel)for(var n=a(e,r.corners),l=0,d=n.length;d>l;l++)r.nodes[n[l]]===i&&(r.nodes[n[l]]=s(n[l],r)),o(t,e,r.nodes[n[l]]);else r.elements.push(t)}function l(t,e){if(e.level<e.maxLevel){var a=r(t,e.bounds);return e.nodes[a]!==i?l(t,e.nodes[a]):[]}return e.elements}function d(t,e,r,a){if(a=a||{},e.level<e.maxLevel)for(var n=r(t,e.corners),s=0,o=n.length;o>s;s++)e.nodes[n[s]]!==i&&d(t,e.nodes[n[s]],r,a);else for(var l=0,h=e.elements.length;h>l;l++)a[e.elements[l].id]===i&&(a[e.elements[l].id]=e.elements[l]);return a}function h(t,e,i,r){return{level:e||0,bounds:t,corners:c.splitSquare(t),maxElements:i||20,maxLevel:r||4,elements:[],nodes:[]}}var c={pointToSquare:function(t){return{x1:t.x-t.size,y1:t.y-t.size,x2:t.x+t.size,y2:t.y-t.size,height:2*t.size}},isAxisAligned:function(t){return t.x1===t.x2||t.y1===t.y2},axisAlignedTopPoints:function(t){return t.y1===t.y2&&t.x1<t.x2?t:t.x1===t.x2&&t.y2>t.y1?{x1:t.x1-t.height,y1:t.y1,x2:t.x1,y2:t.y1,height:t.height}:t.x1===t.x2&&t.y2<t.y1?{x1:t.x1,y1:t.y2,x2:t.x2+t.height,y2:t.y2,height:t.height}:{x1:t.x2,y1:t.y1-t.height,x2:t.x1,y2:t.y1-t.height,height:t.height}},lowerLeftCoor:function(t){var e=Math.sqrt(Math.pow(t.x2-t.x1,2)+Math.pow(t.y2-t.y1,2));return{x:t.x1-(t.y2-t.y1)*t.height/e,y:t.y1+(t.x2-t.x1)*t.height/e}},lowerRightCoor:function(t,e){return{x:e.x-t.x1+t.x2,y:e.y-t.y1+t.y2}},rectangleCorners:function(t){var e=this.lowerLeftCoor(t),i=this.lowerRightCoor(t,e);return[{x:t.x1,y:t.y1},{x:t.x2,y:t.y2},{x:e.x,y:e.y},{x:i.x,y:i.y}]},splitSquare:function(t){return[[{x:t.x,y:t.y},{x:t.x+t.width/2,y:t.y},{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2}],[{x:t.x+t.width/2,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2}],[{x:t.x,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x,y:t.y+t.height},{x:t.x+t.width/2,y:t.y+t.height}],[{x:t.x+t.width/2,y:t.y+t.height/2},{x:t.x+t.width,y:t.y+t.height/2},{x:t.x+t.width/2,y:t.y+t.height},{x:t.x+t.width,y:t.y+t.height}]]},axis:function(t,e){return[{x:t[1].x-t[0].x,y:t[1].y-t[0].y},{x:t[1].x-t[3].x,y:t[1].y-t[3].y},{x:e[0].x-e[2].x,y:e[0].y-e[2].y},{x:e[0].x-e[1].x,y:e[0].y-e[1].y}]},projection:function(t,e){var i=(t.x*e.x+t.y*e.y)/(Math.pow(e.x,2)+Math.pow(e.y,2));return{x:i*e.x,y:i*e.y}},axisCollision:function(t,e,i){for(var r=[],a=[],n=0;4>n;n++){var s=this.projection(e[n],t),o=this.projection(i[n],t);r.push(s.x*t.x+s.y*t.y),a.push(o.x*t.x+o.y*t.y)}var l=Math.max.apply(Math,r),d=Math.max.apply(Math,a),h=Math.min.apply(Math,r),c=Math.min.apply(Math,a);return l>=c&&d>=h},collision:function(t,e){for(var i=this.axis(t,e),r=!0,a=0;4>a;a++)r*=this.axisCollision(i[a],t,e);return!!r}},u=function(){this._geom=c,this._tree=null,this._cache={query:!1,result:!1}};u.prototype.index=function(t,e){if(!e.bounds)throw"sigma.classes.quad.index: bounds information not given.";var i=e.prefix||"";this._tree=h(e.bounds,0,e.maxElements,e.maxLevel);for(var r=0,a=t.length;a>r;r++)o(t[r],c.pointToSquare({x:t[r][i+"x"],y:t[r][i+"y"],size:t[r][i+"size"]}),this._tree);return this._cache={query:!1,result:!1},this._tree},u.prototype.point=function(t,e){return this._tree?l({x:t,y:e},this._tree)||[]:[]},u.prototype.area=function(t){var e,i,r=JSON.stringify(t);if(this._cache.query===r)return this._cache.result;c.isAxisAligned(t)?(e=a,i=c.axisAlignedTopPoints(t)):(e=n,i=c.rectangleCorners(t));var s=this._tree?d(i,this._tree,e):[],o=[];for(var l in s)o.push(s[l]);return this._cache.query=r,this._cache.result=o,o},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.quad=u):"undefined"!=typeof e?("undefined"!=typeof t&&t.exports&&(e=t.exports=u),e.quad=u):this.quad=u}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.mouse=function(t,e,i){function r(t){var e,i,r;return A("mouseEnabled")&&b.dispatchEvent("mousemove",{x:sigma.utils.getX(t)-t.target.width/2,y:sigma.utils.getY(t)-t.target.height/2}),A("mouseEnabled")&&p?(y=!0,x&&clearTimeout(x),x=setTimeout(function(){y=!1},A("dragTimeout")),sigma.misc.animation.killAll(w),w.isMoving=!0,r=w.cameraPosition(sigma.utils.getX(t)-f,sigma.utils.getY(t)-m,!0),e=h-r.x,i=c-r.y,(e!==w.x||i!==w.y)&&(u=w.x,g=w.y,w.goTo({x:e,y:i})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}function a(t){if(A("mouseEnabled")&&p){p=!1,x&&clearTimeout(x),w.isMoving=!1;var e=sigma.utils.getX(t),i=sigma.utils.getY(t);y?(sigma.misc.animation.killAll(w),sigma.misc.animation.camera(w,{x:w.x+A("mouseInertiaRatio")*(w.x-u),y:w.y+A("mouseInertiaRatio")*(w.y-g)},{easing:"quadraticOut",duration:A("mouseInertiaDuration")})):(f!==e||m!==i)&&w.goTo({x:w.x,y:w.y}),b.dispatchEvent("mouseup",{x:e-t.target.width/2,y:i-t.target.height/2}),y=!1}}function n(t){A("mouseEnabled")&&(p=!0,h=w.x,c=w.y,u=w.x,g=w.y,f=sigma.utils.getX(t),m=sigma.utils.getY(t),b.dispatchEvent("mouseup",{x:f-t.target.width/2,y:m-t.target.height/2}))}function s(){A("mouseEnabled")&&b.dispatchEvent("mouseout")}function o(t){return A("mouseEnabled")&&b.dispatchEvent("click",{x:sigma.utils.getX(t)-t.target.width/2,y:sigma.utils.getY(t)-t.target.height/2}),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1}function l(t){var e,i,r,a;return A("mouseEnabled")?(r=1/A("doubleClickZoomingRatio"),a=Math.max(A("zoomMin"),Math.min(A("zoomMax"),w.ratio*r)),r=a/w.ratio,a!==w.ratio&&(i=sigma.misc.animation.killAll(w),e=w.cameraPosition(sigma.utils.getX(t)-t.target.width/2,sigma.utils.getY(t)-t.target.height/2,!0),sigma.misc.animation.camera(w,{x:e.x*(1-r)+w.x,y:e.y*(1-r)+w.y,ratio:a},{easing:i?"quadraticOut":"quadraticInOut",duration:A("doubleClickZoomDuration")})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}function d(t){var e,i,r,a;return A("mouseEnabled")?(r=sigma.utils.getDelta(t)>0?1/A("zoomingRatio"):A("zoomingRatio"),a=Math.max(A("zoomMin"),Math.min(A("zoomMax"),w.ratio*r)),r=a/w.ratio,a!==w.ratio&&(i=sigma.misc.animation.killAll(w),e=w.cameraPosition(sigma.utils.getX(t)-t.target.width/2,sigma.utils.getY(t)-t.target.height/2,!0),sigma.misc.animation.camera(w,{x:e.x*(1-r)+w.x,y:e.y*(1-r)+w.y,ratio:a},{easing:i?"quadraticOut":"quadraticInOut",duration:A("mouseZoomDuration")})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}var h,c,u,g,f,m,p,y,x,b=this,v=t,w=e,A=i;sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(v,"click",l),v.addEventListener("DOMMouseScroll",d,!1),v.addEventListener("mousewheel",d,!1),v.addEventListener("mousemove",r,!1),v.addEventListener("mousedown",n,!1),v.addEventListener("click",o,!1),v.addEventListener("mouseout",s,!1),document.addEventListener("mouseup",a,!1)}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.captors"),sigma.captors.touch=function(t,e,i){function r(t){var e=sigma.utils.getOffset(S);return{x:t.pageX-e.left,y:t.pageY-e.top}}function a(t){if(P("touchEnabled")){var e,i,a,n,s,o;switch(N=t.touches,N.length){case 1:R.isMoving=!0,A=1,l=R.x,d=R.y,u=R.x,g=R.y,s=r(N[0]),p=s.x,y=s.y;break;case 2:return R.isMoving=!0,A=2,s=r(N[0]),o=r(N[1]),e=s.x,a=s.y,i=o.x,n=o.y,u=R.x,g=R.y,h=R.angle,c=R.ratio,l=R.x,d=R.y,p=e,y=a,x=i,b=n,v=Math.atan2(b-y,x-p),w=Math.sqrt(Math.pow(b-y,2)+Math.pow(x-p,2)),t.preventDefault(),!1}}}function n(t){if(P("touchEnabled")){N=t.touches;var e=P("touchInertiaRatio");switch(T&&(E=!1,clearTimeout(T)),A){case 2:if(1===t.touches.length){a(t),t.preventDefault();break}case 1:R.isMoving=!1,M.dispatchEvent("stopDrag"),E&&(_=!1,sigma.misc.animation.camera(R,{x:R.x+e*(R.x-u),y:R.y+e*(R.y-g)},{easing:"quadraticOut",duration:P("touchInertiaDuration")})),E=!1,A=0}}}function s(t){if(!_&&P("touchEnabled")){var e,i,a,n,s,o,S,C,I,O,F,j,L,k,z,B,U;switch(N=t.touches,E=!0,T&&clearTimeout(T),T=setTimeout(function(){E=!1},P("dragTimeout")),A){case 1:C=r(N[0]),e=C.x,a=C.y,O=R.cameraPosition(e-p,a-y,!0),k=l-O.x,z=d-O.y,(k!==R.x||z!==R.y)&&(u=R.x,g=R.y,R.goTo({x:k,y:z}),M.dispatchEvent("drag"));break;case 2:C=r(N[0]),I=r(N[1]),e=C.x,a=C.y,i=I.x,n=I.y,F=R.cameraPosition((p+x)/2-t.target.width/2,(y+b)/2-t.target.height/2,!0),S=R.cameraPosition((e+i)/2-t.target.width/2,(a+n)/2-t.target.height/2,!0),j=Math.atan2(n-a,i-e)-v,L=Math.sqrt(Math.pow(n-a,2)+Math.pow(i-e,2))/w,e=F.x,a=F.y,B=c/L,e*=L,a*=L,U=h-j,s=Math.cos(-j),o=Math.sin(-j),i=e*s+a*o,n=a*s-e*o,e=i,a=n,k=e-S.x+l,z=a-S.y+d,(B!==R.ratio||U!==R.angle||k!==R.x||z!==R.y)&&(u=R.x,g=R.y,f=R.angle,m=R.ratio,R.goTo({x:k,y:z,angle:U,ratio:B}),M.dispatchEvent("drag"))}return t.preventDefault(),!1}}function o(t){var e,i,a,n;return t.touches&&1===t.touches.length&&P("touchEnabled")?(_=!0,a=1/P("doubleClickZoomingRatio"),n=Math.max(P("zoomMin"),Math.min(P("zoomMax"),R.ratio*a)),a=n/R.ratio,n!==R.ratio&&(i=sigma.misc.animation.killAll(R),e=r(t.touches[0]),e=R.cameraPosition(e.x-t.target.width/2,e.y-t.target.height/2,!0),sigma.misc.animation.camera(R,{x:e.x*(1-a)+R.x,y:e.y*(1-a)+R.y,ratio:n},{easing:i?"quadraticOut":"quadraticInOut",duration:P("doubleClickZoomDuration"),onComplete:function(){_=!1}})),t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation(),!1):void 0}var l,d,h,c,u,g,f,m,p,y,x,b,v,w,A,E,_,T,M=this,S=t,R=e,P=i,N=[];sigma.classes.dispatcher.extend(this),sigma.utils.doubleClick(S,"touchstart",o),S.addEventListener("touchstart",a),S.addEventListener("touchend",n),S.addEventListener("touchcancel",n),S.addEventListener("touchleave",n),S.addEventListener("touchmove",s)}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";if("undefined"==typeof conrad)throw"conrad is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.canvas=function(t,e,i,r){if("object"!=typeof r)throw"sigma.renderers.canvas: Wrong arguments.";if(!(r.container instanceof HTMLElement))throw"Container not found.";var a,n,s,o,l=this;for(sigma.classes.dispatcher.extend(this),Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=r,this.container=this.options.container,this.settings="object"==typeof r.settings&&r.settings?i.embedObjects(r.settings):i,this.nodesOnScreen=[],this.edgesOnScreen=[],this.jobs={},this.options.prefix="renderer"+this.conradId+":",this.settings("batchEdgesDrawing")?(this.initDOM("canvas","edges"),this.initDOM("canvas","scene"),this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene):(this.initDOM("canvas","scene"),this.contexts.edges=this.contexts.scene,this.contexts.nodes=this.contexts.scene,this.contexts.labels=this.contexts.scene),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.captors=[],s=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],a=0,n=s.length;n>a;a++)o="function"==typeof s[a]?s[a]:sigma.captors[s[a]],this.captors.push(new o(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindEvents.call(this,this.options.prefix),sigma.misc.drawHovers.call(this,this.options.prefix),this.resize(!1)},sigma.renderers.canvas.prototype.render=function(e){e=e||{};var i,r,a,n,s,o,l,d,h,c,u,g,f={},m=this.graph,p=(this.options.prefix||"",this.settings(e,"drawEdges")),y=this.settings(e,"drawNodes"),x=this.settings(e,"drawLabels"),b=this.settings.embedObjects(e,{prefix:this.options.prefix});this.settings(e,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(p=!1),this.camera.applyView(t,this.options.prefix,{width:this.width,height:this.height}),this.clear();for(a in this.jobs)conrad.hasJob(a)&&conrad.killJob(a);for(this.edgesOnScreen=[],this.nodesOnScreen=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),i=this.nodesOnScreen,r=0,n=i.length;n>r;r++)f[i[r].id]=i[r];if(p){for(i=m.edges(),r=0,n=i.length;n>r;r++)s=i[r],(f[s.source]||f[s.target])&&this.edgesOnScreen.push(s);if(this.settings(e,"batchEdgesDrawing"))o="edges_"+this.conradId,g=b("canvasEdgesBatchSize"),c=this.edgesOnScreen,n=c.length,h=0,l=Math.min(c.length,h+g),d=function(){for(u=sigma.canvas.edges,r=h;l>r;r++)s=c[r],(u[s.type]||u.def)(s,m.nodes(s.source),m.nodes(s.target),this.contexts.edges,b);return l===c.length?(delete this.jobs[o],!1):(h=l+1,l=Math.min(c.length,h+g),!0)},this.jobs[o]=d,conrad.addJob(o,d.bind(this));else for(u=sigma.canvas.edges,i=this.edgesOnScreen,r=0,n=i.length;n>r;r++)s=i[r],(u[s.type]||u.def)(s,m.nodes(s.source),m.nodes(s.target),this.contexts.edges,b)}if(y)for(u=sigma.canvas.nodes,i=this.nodesOnScreen,r=0,n=i.length;n>r;r++)(u[i[r].type]||u.def)(i[r],this.contexts.nodes,b);if(x)for(u=sigma.canvas.labels,i=this.nodesOnScreen,r=0,n=i.length;n>r;r++)(u[i[r].type]||u.def)(i[r],this.contexts.labels,b);return this.dispatchEvent("render"),this},sigma.renderers.canvas.prototype.initDOM=function(t,e){var i=document.createElement(t);i.style.position="absolute",i.setAttribute("class","sigma-"+e),this.domElements[e]=i,this.container.appendChild(i),"canvas"===t.toLowerCase()&&(this.contexts[e]=i.getContext("2d"))},sigma.renderers.canvas.prototype.resize=function(e,i){var r,a=this.width,n=this.height,s=1;if(e!==t&&i!==t?(this.width=e,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,i=this.height),a!==this.width||n!==this.height)for(r in this.domElements)this.domElements[r].style.width=e+"px",this.domElements[r].style.height=i+"px","canvas"===this.domElements[r].tagName.toLowerCase()&&(this.domElements[r].setAttribute("width",e*s+"px"),this.domElements[r].setAttribute("height",i*s+"px"),1!==s&&this.contexts[r].scale(s,s));return this},sigma.renderers.canvas.prototype.clear=function(){var t;for(t in this.domElements)"CANVAS"===this.domElements[t].tagName&&(this.domElements[t].width=this.domElements[t].width);return this},sigma.utils.pkg("sigma.canvas.nodes"),sigma.utils.pkg("sigma.canvas.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers"),sigma.renderers.webgl=function(t,e,i,r){if("object"!=typeof r)throw"sigma.renderers.webgl: Wrong arguments.";if(!(r.container instanceof HTMLElement))throw"Container not found.";var a,n,s,o,l=this;for(sigma.classes.dispatcher.extend(this),this.jobs={},Object.defineProperty(this,"conradId",{value:sigma.utils.id()}),this.graph=t,this.camera=e,this.contexts={},this.domElements={},this.options=r,this.container=this.options.container,this.settings="object"==typeof r.settings&&r.settings?i.embedObjects(r.settings):i,this.options.prefix=this.camera.readPrefix,Object.defineProperty(this,"nodePrograms",{value:{}}),Object.defineProperty(this,"edgePrograms",{value:{}}),Object.defineProperty(this,"nodeFloatArrays",{value:{}}),Object.defineProperty(this,"edgeFloatArrays",{value:{}}),this.initDOM("canvas","scene",!0),this.initDOM("canvas","labels"),this.initDOM("canvas","mouse"),this.contexts.hover=this.contexts.mouse,this.contexts.nodes=this.contexts.scene,this.contexts.edges=this.contexts.scene,this.captors=[],s=this.options.captors||[sigma.captors.mouse,sigma.captors.touch],a=0,n=s.length;n>a;a++)o="function"==typeof s[a]?s[a]:sigma.captors[s[a]],this.captors.push(new o(this.domElements.mouse,this.camera,this.settings));window.addEventListener("resize",function(){l.resize()}),sigma.misc.bindEvents.call(this,this.camera.prefix),sigma.misc.drawHovers.call(this,this.camera.prefix),this.resize()},sigma.renderers.webgl.prototype.process=function(){var t,e,i,r,a,n=this.graph,s=sigma.utils.extend(s,this.options);for(r in this.nodeFloatArrays)delete this.nodeFloatArrays[r];for(r in this.edgeFloatArrays)delete this.edgeFloatArrays[r];for(t=n.edges(),e=0,i=t.length;i>e;e++)r=t[e].type&&sigma.webgl.edges[t[e].type]?t[e].type:"def",this.edgeFloatArrays[r]||(this.edgeFloatArrays[r]={edges:[]}),this.edgeFloatArrays[r].edges.push(t[e]);for(t=n.nodes(),e=0,i=t.length;i>e;e++)r=t[e].type&&sigma.webgl.nodes[t[e].type]?r:"def",this.nodeFloatArrays[r]||(this.nodeFloatArrays[r]={nodes:[]}),this.nodeFloatArrays[r].nodes.push(t[e]);for(r in this.edgeFloatArrays)for(a=sigma.webgl.edges[r],t=this.edgeFloatArrays[r].edges,e=0,i=t.length;i>e;e++)this.edgeFloatArrays[r].array||(this.edgeFloatArrays[r].array=new Float32Array(t.length*a.POINTS*a.ATTRIBUTES)),a.addEdge(t[e],n.nodes(t[e].source),n.nodes(t[e].target),this.edgeFloatArrays[r].array,e*a.POINTS*a.ATTRIBUTES,s.prefix,this.settings);for(r in this.nodeFloatArrays)for(a=sigma.webgl.nodes[r],t=this.nodeFloatArrays[r].nodes,e=0,i=t.length;i>e;e++)this.nodeFloatArrays[r].array||(this.nodeFloatArrays[r].array=new Float32Array(t.length*a.POINTS*a.ATTRIBUTES)),a.addNode(t[e],this.nodeFloatArrays[r].array,e*a.POINTS*a.ATTRIBUTES,s.prefix,this.settings);return this},sigma.renderers.webgl.prototype.render=function(e){var i,r,a,n,s,o,l=this,d=(this.graph,this.contexts.nodes),h=this.contexts.edges,c=this.camera.getMatrix(),u=sigma.utils.extend(e,this.options),g=this.settings(u,"drawLabels"),f=this.settings(u,"drawEdges"),m=this.settings(u,"drawNodes");this.settings(u,"hideEdgesOnMove")&&(this.camera.isAnimated||this.camera.isMoving)&&(f=!1),this.clear(),c=sigma.utils.matrices.multiply(c,sigma.utils.matrices.translation(this.width/2,this.height/2));for(n in this.jobs)conrad.hasJob(n)&&conrad.killJob(n);if(f)if(this.settings(u,"batchEdgesDrawing"))(function(){var t,e,i,r,a,n,s,o,l;i="edges_"+this.conradId,l=this.settings(u,"webglEdgesBatchSize"),t=Object.keys(this.edgeFloatArrays),t.length&&(e=0,o=sigma.webgl.edges[t[e]],a=this.edgeFloatArrays[t[e]].array,s=0,n=Math.min(s+l*o.POINTS,a.length/o.ATTRIBUTES),r=function(){return this.edgePrograms[t[e]]||(this.edgePrograms[t[e]]=o.initProgram(h)),n>s&&(h.useProgram(this.edgePrograms[t[e]]),o.render(h,this.edgePrograms[t[e]],a,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio"),start:s,count:n-s})),n>=a.length/o.ATTRIBUTES&&e===t.length-1?(delete this.jobs[i],!1):(n>=a.length/o.ATTRIBUTES?(e++,a=this.edgeFloatArrays[t[e]].array,o=sigma.webgl.edges[t[e]],s=0,n=Math.min(s+l*o.POINTS,a.length/o.ATTRIBUTES)):(s=n,n=Math.min(s+l*o.POINTS,a.length/o.ATTRIBUTES)),!0)},this.jobs[i]=r,conrad.addJob(i,r.bind(this)))}).call(this);else for(n in this.edgeFloatArrays)o=sigma.webgl.edges[n],this.edgePrograms[n]||(this.edgePrograms[n]=o.initProgram(h)),this.edgeFloatArrays[n]&&(h.useProgram(this.edgePrograms[n]),o.render(h,this.edgePrograms[n],this.edgeFloatArrays[n].array,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}));if(m){d.blendFunc(d.SRC_ALPHA,d.ONE_MINUS_SRC_ALPHA),d.enable(d.BLEND);for(n in this.nodeFloatArrays)o=sigma.webgl.nodes[n],this.nodePrograms[n]||(this.nodePrograms[n]=o.initProgram(d)),this.nodeFloatArrays[n]&&(d.useProgram(this.nodePrograms[n]),o.render(d,this.nodePrograms[n],this.nodeFloatArrays[n].array,{settings:this.settings,matrix:c,width:this.width,height:this.height,ratio:this.camera.ratio,scalingRatio:this.settings("webglOversamplingRatio")}))}if(g)for(i=this.camera.quadtree.area(this.camera.getRectangle(this.width,this.height)),this.camera.applyView(t,t,{nodes:i,edges:[],width:this.width,height:this.height}),s=function(t){return l.settings({prefix:l.camera.prefix},t)},r=0,a=i.length;a>r;r++)(sigma.canvas.labels[i[r].type]||sigma.canvas.labels.def)(i[r],this.contexts.labels,s);return this.dispatchEvent("render"),this},sigma.renderers.webgl.prototype.initDOM=function(t,e,i){var r=document.createElement(t);r.style.position="absolute",r.setAttribute("class","sigma-"+e),this.domElements[e]=r,this.container.appendChild(r),"canvas"===t.toLowerCase()&&(this.contexts[e]=r.getContext(i?"experimental-webgl":"2d",{preserveDrawingBuffer:!0}))},sigma.renderers.webgl.prototype.resize=function(e,i){var r,a=this.width,n=this.height;if(e!==t&&i!==t?(this.width=e,this.height=i):(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,e=this.width,i=this.height),a!==this.width||n!==this.height)for(r in this.domElements)this.domElements[r].style.width=e+"px",this.domElements[r].style.height=i+"px","canvas"===this.domElements[r].tagName.toLowerCase()&&(this.contexts[r]&&this.contexts[r].scale?(this.domElements[r].setAttribute("width",e+"px"),this.domElements[r].setAttribute("height",i+"px")):(this.domElements[r].setAttribute("width",e*this.settings("webglOversamplingRatio")+"px"),this.domElements[r].setAttribute("height",i*this.settings("webglOversamplingRatio")+"px")));for(r in this.contexts)this.contexts[r]&&this.contexts[r].viewport&&this.contexts[r].viewport(0,0,this.width*this.settings("webglOversamplingRatio"),this.height*this.settings("webglOversamplingRatio"));return this},sigma.renderers.webgl.prototype.clear=function(){var t;for(t in this.domElements)"CANVAS"===this.domElements[t].tagName&&(this.domElements[t].width=this.domElements[t].width);return this.contexts.nodes.clear(this.contexts.nodes.COLOR_BUFFER_BIT),this.contexts.edges.clear(this.contexts.edges.COLOR_BUFFER_BIT),this},sigma.utils.pkg("sigma.webgl.nodes"),sigma.utils.pkg("sigma.webgl.edges"),sigma.utils.pkg("sigma.canvas.labels")}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.renderers");var t,e=!!window.WebGLRenderingContext;e&&(t=document.createElement("canvas"),e=!(!t.getContext("webgl")&&!t.getContext("experimental-webgl"))),sigma.renderers.def=e?sigma.renderers.webgl:sigma.renderers.canvas}.call(this),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.def={POINTS:3,ATTRIBUTES:5,addNode:function(t,e,i,r,a){var n=sigma.utils.floatColor(t.color||a("defaultNodeColor"));e[i++]=t[r+"x"],e[i++]=t[r+"y"],e[i++]=t[r+"size"],e[i++]=n,e[i++]=0,e[i++]=t[r+"x"],e[i++]=t[r+"y"],e[i++]=t[r+"size"],e[i++]=n,e[i++]=2*Math.PI/3,e[i++]=t[r+"x"],e[i++]=t[r+"y"],e[i++]=t[r+"size"],e[i++]=n,e[i++]=4*Math.PI/3},render:function(t,e,i,r){var a,n=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),o=t.getAttribLocation(e,"a_color"),l=t.getAttribLocation(e,"a_angle"),d=t.getUniformLocation(e,"u_resolution"),h=t.getUniformLocation(e,"u_matrix"),c=t.getUniformLocation(e,"u_ratio"),u=t.getUniformLocation(e,"u_scale");a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(d,r.width,r.height),t.uniform1f(c,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),t.uniform1f(u,r.scalingRatio),t.uniformMatrix3fv(h,!1,r.matrix),t.enableVertexAttribArray(n),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(l),t.vertexAttribPointer(n,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(o,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.drawArrays(t.TRIANGLES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i,r;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","attribute float a_angle;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","varying vec2 center;","varying float radius;","void main() {","radius = a_size * u_ratio;","vec2 position = (u_matrix * vec3(a_position, 1)).xy;","center = position * u_scale;","center = vec2(center.x, u_scale * u_resolution.y - center.y);","position = position +","2.0 * radius * vec2(cos(a_angle), sin(a_angle));","position = (position / u_resolution * 2.0 - 1.0) * vec2(1, -1);","radius = radius * u_scale;","gl_Position = vec4(position, 0, 1);","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","varying vec2 center;","varying float radius;","void main(void) {","vec4 color0 = vec4(0.0, 0.0, 0.0, 0.0);","vec2 m = gl_FragCoord.xy - center;","float diff = radius - sqrt(m.x * m.x + m.y * m.y);","if (diff > 0.0)","gl_FragColor = color;","else","gl_FragColor = color0;","}"].join("\n"),t.FRAGMENT_SHADER),r=sigma.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.nodes"),sigma.webgl.nodes.fast={POINTS:1,ATTRIBUTES:4,addNode:function(t,e,i,r,a){e[i++]=t[r+"x"],e[i++]=t[r+"y"],e[i++]=t[r+"size"],e[i++]=sigma.utils.floatColor(t.color||a("defaultNodeColor"))},render:function(t,e,i,r){var a,n=t.getAttribLocation(e,"a_position"),s=t.getAttribLocation(e,"a_size"),o=t.getAttribLocation(e,"a_color"),l=t.getUniformLocation(e,"u_resolution"),d=t.getUniformLocation(e,"u_matrix"),h=t.getUniformLocation(e,"u_ratio"),c=t.getUniformLocation(e,"u_scale");
a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(l,r.width,r.height),t.uniform1f(h,1/Math.pow(r.ratio,r.settings("nodesPowRatio"))),t.uniform1f(c,r.scalingRatio),t.uniformMatrix3fv(d,!1,r.matrix),t.enableVertexAttribArray(n),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.vertexAttribPointer(n,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(o,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,12),t.drawArrays(t.POINTS,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i,r;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_size;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","gl_PointSize = a_size * u_ratio * u_scale * 2.0;","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),r=sigma.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.def={POINTS:6,ATTRIBUTES:7,addEdge:function(t,e,i,r,a,n,s){var o=(t[n+"size"]||1)/2,l=e[n+"x"],d=e[n+"y"],h=i[n+"x"],c=i[n+"y"],u=t.color;if(!u)switch(s("edgeColor")){case"source":u=e.color||s("defaultNodeColor");break;case"target":u=i.color||s("defaultNodeColor");break;default:u=s("defaultEdgeColor")}u=sigma.utils.floatColor(u),r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=0,r[a++]=u,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=1,r[a++]=u,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=0,r[a++]=u,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=0,r[a++]=u,r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=1,r[a++]=u,r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=0,r[a++]=u},render:function(t,e,i,r){var a,n=t.getAttribLocation(e,"a_color"),s=t.getAttribLocation(e,"a_position1"),o=t.getAttribLocation(e,"a_position2"),l=t.getAttribLocation(e,"a_thickness"),d=t.getAttribLocation(e,"a_minus"),h=t.getUniformLocation(e,"u_resolution"),c=t.getUniformLocation(e,"u_matrix"),u=t.getUniformLocation(e,"u_matrixHalfPi"),g=t.getUniformLocation(e,"u_matrixHalfPiMinus"),f=t.getUniformLocation(e,"u_ratio"),m=t.getUniformLocation(e,"u_scale");a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.uniform2f(h,r.width,r.height),t.uniform1f(f,r.ratio/Math.pow(r.ratio,r.settings("edgesPowRatio"))),t.uniform1f(m,r.scalingRatio),t.uniformMatrix3fv(c,!1,r.matrix),t.uniformMatrix2fv(u,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(g,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(n),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(l),t.enableVertexAttribArray(d),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(o,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(n,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.drawArrays(t.TRIANGLES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i,r;return e=sigma.utils.loadShader(t,["attribute vec2 a_position1;","attribute vec2 a_position2;","attribute float a_thickness;","attribute float a_minus;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 position = a_thickness * u_ratio *","normalize(a_position2 - a_position1);","mat2 matrix = a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi;","position = matrix * position + a_position1;","gl_Position = vec4(","((u_matrix * vec3(position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),r=sigma.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.fast={POINTS:2,ATTRIBUTES:3,addEdge:function(t,e,i,r,a,n,s){var o=((t[n+"size"]||1)/2,e[n+"x"]),l=e[n+"y"],d=i[n+"x"],h=i[n+"y"],c=t.color;if(!c)switch(s("edgeColor")){case"source":c=e.color||s("defaultNodeColor");break;case"target":c=i.color||s("defaultNodeColor");break;default:c=s("defaultEdgeColor")}c=sigma.utils.floatColor(c),r[a++]=o,r[a++]=l,r[a++]=c,r[a++]=d,r[a++]=h,r[a++]=c},render:function(t,e,i,r){var a,n=t.getAttribLocation(e,"a_color"),s=t.getAttribLocation(e,"a_position"),o=t.getUniformLocation(e,"u_resolution"),l=t.getUniformLocation(e,"u_matrix");a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,i,t.DYNAMIC_DRAW),t.uniform2f(o,r.width,r.height),t.uniformMatrix3fv(l,!1,r.matrix),t.enableVertexAttribArray(s),t.enableVertexAttribArray(n),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(n,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.lineWidth(3),t.drawArrays(t.LINES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i,r;return e=sigma.utils.loadShader(t,["attribute vec2 a_position;","attribute float a_color;","uniform vec2 u_resolution;","uniform mat3 u_matrix;","varying vec4 color;","void main() {","gl_Position = vec4(","((u_matrix * vec3(a_position, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),r=sigma.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";sigma.utils.pkg("sigma.webgl.edges"),sigma.webgl.edges.arrow={POINTS:9,ATTRIBUTES:11,addEdge:function(t,e,i,r,a,n,s){var o=(t[n+"size"]||1)/2,l=e[n+"x"],d=e[n+"y"],h=i[n+"x"],c=i[n+"y"],u=i[n+"size"],g=t.color;if(!g)switch(s("edgeColor")){case"source":g=e.color||s("defaultNodeColor");break;case"target":g=i.color||s("defaultNodeColor");break;default:g=s("defaultEdgeColor")}g=sigma.utils.floatColor(g),r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=u,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=1,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=u,r[a++]=0,r[a++]=1,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=l,r[a++]=d,r[a++]=h,r[a++]=c,r[a++]=o,r[a++]=u,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=0,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=0,r[a++]=1,r[a++]=-1,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=0,r[a++]=1,r[a++]=0,r[a++]=g,r[a++]=h,r[a++]=c,r[a++]=l,r[a++]=d,r[a++]=o,r[a++]=u,r[a++]=1,r[a++]=0,r[a++]=1,r[a++]=1,r[a++]=g},render:function(t,e,i,r){var a,n=t.getAttribLocation(e,"a_pos1"),s=t.getAttribLocation(e,"a_pos2"),o=t.getAttribLocation(e,"a_thickness"),l=t.getAttribLocation(e,"a_tSize"),d=t.getAttribLocation(e,"a_delay"),h=t.getAttribLocation(e,"a_minus"),c=t.getAttribLocation(e,"a_head"),u=t.getAttribLocation(e,"a_headPosition"),g=t.getAttribLocation(e,"a_color"),f=t.getUniformLocation(e,"u_resolution"),m=t.getUniformLocation(e,"u_matrix"),p=t.getUniformLocation(e,"u_matrixHalfPi"),y=t.getUniformLocation(e,"u_matrixHalfPiMinus"),x=t.getUniformLocation(e,"u_ratio"),b=t.getUniformLocation(e,"u_nodeRatio"),v=t.getUniformLocation(e,"u_arrowHead"),w=t.getUniformLocation(e,"u_scale");a=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,a),t.bufferData(t.ARRAY_BUFFER,i,t.STATIC_DRAW),t.uniform2f(f,r.width,r.height),t.uniform1f(x,r.ratio/Math.pow(r.ratio,r.settings("edgesPowRatio"))),t.uniform1f(b,Math.pow(r.ratio,r.settings("nodesPowRatio"))/r.ratio),t.uniform1f(v,5),t.uniform1f(w,r.scalingRatio),t.uniformMatrix3fv(m,!1,r.matrix),t.uniformMatrix2fv(p,!1,sigma.utils.matrices.rotation(Math.PI/2,!0)),t.uniformMatrix2fv(y,!1,sigma.utils.matrices.rotation(-Math.PI/2,!0)),t.enableVertexAttribArray(n),t.enableVertexAttribArray(s),t.enableVertexAttribArray(o),t.enableVertexAttribArray(l),t.enableVertexAttribArray(d),t.enableVertexAttribArray(h),t.enableVertexAttribArray(c),t.enableVertexAttribArray(u),t.enableVertexAttribArray(g),t.vertexAttribPointer(n,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,0),t.vertexAttribPointer(s,2,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,8),t.vertexAttribPointer(o,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,16),t.vertexAttribPointer(l,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,20),t.vertexAttribPointer(d,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,24),t.vertexAttribPointer(h,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,28),t.vertexAttribPointer(c,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,32),t.vertexAttribPointer(u,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,36),t.vertexAttribPointer(g,1,t.FLOAT,!1,this.ATTRIBUTES*Float32Array.BYTES_PER_ELEMENT,40),t.drawArrays(t.TRIANGLES,r.start||0,r.count||i.length/this.ATTRIBUTES)},initProgram:function(t){var e,i,r;return e=sigma.utils.loadShader(t,["attribute vec2 a_pos1;","attribute vec2 a_pos2;","attribute float a_thickness;","attribute float a_tSize;","attribute float a_delay;","attribute float a_minus;","attribute float a_head;","attribute float a_headPosition;","attribute float a_color;","uniform vec2 u_resolution;","uniform float u_ratio;","uniform float u_nodeRatio;","uniform float u_arrowHead;","uniform float u_scale;","uniform mat3 u_matrix;","uniform mat2 u_matrixHalfPi;","uniform mat2 u_matrixHalfPiMinus;","varying vec4 color;","void main() {","vec2 pos = normalize(a_pos2 - a_pos1);","mat2 matrix = (1.0 - a_head) *","(","a_minus * u_matrixHalfPiMinus +","(1.0 - a_minus) * u_matrixHalfPi",") + a_head * (","a_headPosition * u_matrixHalfPiMinus * 0.6 +","(a_headPosition * a_headPosition - 1.0) * mat2(1.0)",");","pos = a_pos1 + (","(1.0 - a_head) * a_thickness * u_ratio * matrix * pos +","a_head * u_arrowHead * a_thickness * u_ratio * matrix * pos +","a_delay * pos * (","a_tSize / u_nodeRatio +","u_arrowHead * a_thickness * u_ratio",")",");","gl_Position = vec4(","((u_matrix * vec3(pos, 1)).xy /","u_resolution * 2.0 - 1.0) * vec2(1, -1),","0,","1",");","float c = a_color;","color.b = mod(c, 256.0); c = floor(c / 256.0);","color.g = mod(c, 256.0); c = floor(c / 256.0);","color.r = mod(c, 256.0); c = floor(c / 256.0); color /= 255.0;","color.a = 1.0;","}"].join("\n"),t.VERTEX_SHADER),i=sigma.utils.loadShader(t,["precision mediump float;","varying vec4 color;","void main(void) {","gl_FragColor = color;","}"].join("\n"),t.FRAGMENT_SHADER),r=sigma.utils.loadProgram(t,[e,i])}}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.labels"),sigma.canvas.labels.def=function(t,e,i){var r,a=i("prefix")||"",n=t[a+"size"];n<i("labelThreshold")||"string"==typeof t.label&&(r="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*n,e.font=(i("fontStyle")?i("fontStyle")+" ":"")+r+"px "+i("font"),e.fillStyle="node"===i("labelColor")?t.color||i("defaultNodeColor"):i("defaultLabelColor"),e.fillText(t.label,Math.round(t[a+"x"]+n+3),Math.round(t[a+"y"]+r/3)))}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.canvas.hovers"),sigma.canvas.hovers.def=function(t,e,i){var r,a,n,s,o,l=i("hoverFontStyle")||i("fontStyle"),d=i("prefix")||"",h=t[d+"size"],c="fixed"===i("labelSize")?i("defaultLabelSize"):i("labelSizeRatio")*h;e.font=(l?l+" ":"")+c+"px "+(i("hoverFont")||i("font")),e.beginPath(),e.fillStyle="node"===i("labelHoverBGColor")?t.color||i("defaultNodeColor"):i("defaultHoverLabelBGColor"),i("labelHoverShadow")&&(e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor=i("labelHoverShadowColor")),"string"==typeof t.label&&(r=Math.round(t[d+"x"]-c/2-2),a=Math.round(t[d+"y"]-c/2-2),n=Math.round(e.measureText(t.label).width+c/2+h+7),s=Math.round(c+4),o=Math.round(c/2+2),e.moveTo(r,a+o),e.arcTo(r,a,r+o,a,o),e.lineTo(r+n,a),e.lineTo(r+n,a+s),e.lineTo(r+o,a+s),e.arcTo(r,a+s,r,a+s-o,o),e.lineTo(r,a+o),e.closePath(),e.fill(),e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0),i("borderSize")>0&&(e.beginPath(),e.fillStyle="node"===i("nodeBorderColor")?t.color||i("defaultNodeColor"):i("defaultNodeBorderColor"),e.arc(t[d+"x"],t[d+"y"],h+i("borderSize"),0,2*Math.PI,!0),e.closePath(),e.fill());var u=sigma.canvas.nodes[t.type]||sigma.canvas.nodes.def;u(t,e,i),"string"==typeof t.label&&(e.fillStyle="node"===i("labelHoverColor")?t.color||i("defaultNodeColor"):i("defaultLabelHoverColor"),e.fillText(t.label,Math.round(t[d+"x"]+h+3),Math.round(t[d+"y"]+c/3)))}}.call(this),function(){"use strict";sigma.utils.pkg("sigma.canvas.nodes"),sigma.canvas.nodes.def=function(t,e,i){var r=i("prefix")||"";e.fillStyle=t.color||i("defaultNodeColor"),e.beginPath(),e.arc(t[r+"x"],t[r+"y"],t[r+"size"],0,2*Math.PI,!0),e.closePath(),e.fill()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.def=function(t,e,i,r,a){var n=t.color,s=a("prefix")||"",o=a("edgeColor"),l=a("defaultNodeColor"),d=a("defaultEdgeColor");if(!n)switch(o){case"source":n=e.color||l;break;case"target":n=i.color||l;break;default:n=d}r.strokeStyle=n,r.lineWidth=t[s+"size"]||1,r.beginPath(),r.moveTo(e[s+"x"],e[s+"y"]),r.lineTo(i[s+"x"],i[s+"y"]),r.stroke()}}(),function(){"use strict";sigma.utils.pkg("sigma.canvas.edges"),sigma.canvas.edges.arrow=function(t,e,i,r,a){var n=t.color,s=a("prefix")||"",o=a("edgeColor"),l=a("defaultNodeColor"),d=a("defaultEdgeColor"),h=t[s+"size"]||1,c=i[s+"size"],u=e[s+"x"],g=e[s+"y"],f=i[s+"x"],m=i[s+"y"],p=2.5*h,y=Math.sqrt(Math.pow(f-u,2)+Math.pow(m-g,2)),x=u+(f-u)*(y-p-c)/y,b=g+(m-g)*(y-p-c)/y,v=(f-u)*p/y,w=(m-g)*p/y;if(!n)switch(o){case"source":n=e.color||l;break;case"target":n=i.color||l;break;default:n=d}r.strokeStyle=n,r.lineWidth=h,r.beginPath(),r.moveTo(u,g),r.lineTo(x,b),r.stroke(),r.fillStyle=n,r.beginPath(),r.moveTo(x+v,b+w),r.lineTo(x+.6*w,b-.6*v),r.lineTo(x-.6*w,b+.6*v),r.lineTo(x+v,b+w),r.closePath(),r.fill()}}(),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.utils.pkg("sigma.utils"),sigma.middlewares.rescale=function(t,e,i){var r,a,n,s,o,l,d,h,c=this.graph.nodes(),u=this.graph.edges(),g=this.settings.embedObjects(i||{}),f=g("bounds")||sigma.utils.getBoundaries(this.graph,t,!0),m=f.minX,p=f.minY,y=f.maxX,x=f.maxY,b=f.sizeMax,v=f.weightMax,w=g("width")||1,A=g("height")||1;for(d="outside"===g("scalingMode")?Math.max(w/Math.max(y-m,1),A/Math.max(x-p,1)):Math.min(w/Math.max(y-m,1),A/Math.max(x-p,1)),h=(g("rescaleIgnoreSize")?0:(g("maxNodeSize")||b)/d)+(g("sideMargin")||0),y+=h,m-=h,x+=h,p-=h,d="outside"===g("scalingMode")?Math.max(w/Math.max(y-m,1),A/Math.max(x-p,1)):Math.min(w/Math.max(y-m,1),A/Math.max(x-p,1)),g("maxNodeSize")||g("minNodeSize")?g("maxNodeSize")===g("minNodeSize")?(n=0,s=g("maxNodeSize")):(n=(g("maxNodeSize")-g("minNodeSize"))/b,s=g("minNodeSize")):(n=1,s=0),g("maxEdgeSize")||g("minEdgeSize")?g("maxEdgeSize")===g("minEdgeSize")?(o=0,l=g("minEdgeSize")):(o=(g("maxEdgeSize")-g("minEdgeSize"))/v,l=g("minEdgeSize")):(o=1,l=0),r=0,a=u.length;a>r;r++)u[r][e+"size"]=u[r][t+"size"]*o+l;for(r=0,a=c.length;a>r;r++)c[r][e+"size"]=c[r][t+"size"]*n+s,c[r][e+"x"]=(c[r][t+"x"]-(y+m)/2)*d,c[r][e+"y"]=(c[r][t+"y"]-(x+p)/2)*d},sigma.utils.getBoundaries=function(t,e,i){var r,a,n=t.edges(),s=t.nodes(),o=-1/0,l=-1/0,d=1/0,h=1/0,c=-1/0,u=-1/0;if(i)for(r=0,a=n.length;a>r;r++)o=Math.max(n[r][e+"size"],o);for(r=0,a=s.length;a>r;r++)l=Math.max(s[r][e+"size"],l),c=Math.max(s[r][e+"x"],c),d=Math.min(s[r][e+"x"],d),u=Math.max(s[r][e+"y"],u),h=Math.min(s[r][e+"y"],h);return o=o||1,l=l||1,{weightMax:o,sizeMax:l,minX:d,minY:h,maxX:c,maxY:u}}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.middlewares"),sigma.middlewares.copy=function(t,e){var i,r,a;if(e+""!=t+""){for(a=this.graph.nodes(),i=0,r=a.length;r>i;i++)a[i][e+"x"]=a[i][t+"x"],a[i][e+"y"]=a[i][t+"y"],a[i][e+"size"]=a[i][t+"size"];for(a=this.graph.edges(),i=0,r=a.length;r>i;i++)a[i][e+"size"]=a[i][t+"size"]}}}.call(this),function(t){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc.animation.running");var e=function(){var t=0;return function(){return""+ ++t}}();sigma.misc.animation.camera=function(i,r,a){if(!(i instanceof sigma.classes.camera&&"object"==typeof r&&r))throw"animation.camera: Wrong arguments.";if("number"!=typeof r.x&&"number"!=typeof r.y&&"number"!=typeof r.ratio&&"number"!=typeof r.angle)throw"There must be at least one valid coordinate in the given val.";var n,s,o,l,d,h,c=a||{},u=sigma.utils.dateNow();return h={x:i.x,y:i.y,ratio:i.ratio,angle:i.angle},d=c.duration,l="function"!=typeof c.easing?sigma.utils.easings[c.easing||"quadraticInOut"]:c.easing,n=function(){var e,a=c.duration?(sigma.utils.dateNow()-u)/c.duration:1;a>=1?(i.isAnimated=!1,i.goTo({x:r.x!==t?r.x:h.x,y:r.y!==t?r.y:h.y,ratio:r.ratio!==t?r.ratio:h.ratio,angle:r.angle!==t?r.angle:h.angle}),cancelAnimationFrame(s),delete sigma.misc.animation.running[s],"function"==typeof c.onComplete&&c.onComplete()):(e=l(a),i.isAnimated=!0,i.goTo({x:r.x!==t?h.x+(r.x-h.x)*e:h.x,y:r.y!==t?h.y+(r.y-h.y)*e:h.y,ratio:r.ratio!==t?h.ratio+(r.ratio-h.ratio)*e:h.ratio,angle:r.angle!==t?h.angle+(r.angle-h.angle)*e:h.angle}),"function"==typeof c.onNewFrame&&c.onNewFrame(),o.frameId=requestAnimationFrame(n))},s=e(),o={frameId:requestAnimationFrame(n),target:i,type:"camera",options:c,fn:n},sigma.misc.animation.running[s]=o,s},sigma.misc.animation.kill=function(t){if(1!==arguments.length||"number"!=typeof t)throw"animation.kill: Wrong arguments.";var e=sigma.misc.animation.running[t];return e&&(cancelAnimationFrame(t),delete sigma.misc.animation.running[e.frameId],"camera"===e.type&&(e.target.isAnimated=!1),"function"==typeof(e.options||{}).onComplete&&e.options.onComplete()),this},sigma.misc.animation.killAll=function(t){var e,i,r=0,a="string"==typeof t?t:null,n="object"==typeof t?t:null,s=sigma.misc.animation.running;for(i in s)a&&s[i].type!==a||n&&s[i].target!==n||(e=sigma.misc.animation.running[i],cancelAnimationFrame(e.frameId),delete sigma.misc.animation.running[i],"camera"===e.type&&(e.target.isAnimated=!1),r++,"function"==typeof(e.options||{}).onComplete&&e.options.onComplete());return r},sigma.misc.animation.has=function(t){var e,i="string"==typeof t?t:null,r="object"==typeof t?t:null,a=sigma.misc.animation.running;for(e in a)if(!(i&&a[e].type!==i||r&&a[e].target!==r))return!0;return!1}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.bindEvents=function(t){function e(e){e&&(n="x"in e.data?e.data.x:n,s="y"in e.data?e.data.y:s);var i,r,a,l,d,h,c,u,g=[],f=n+o.width/2,m=s+o.height/2,p=o.camera.cameraPosition(n,s),y=o.camera.quadtree.point(p.x,p.y);if(y.length)for(i=0,a=y.length;a>i;i++)if(l=y[i],d=l[t+"x"],h=l[t+"y"],c=l[t+"size"],f>d-c&&d+c>f&&m>h-c&&h+c>m&&Math.sqrt(Math.pow(f-d,2)+Math.pow(m-h,2))<c){for(u=!1,r=0;r<g.length;r++)if(l.size>g[r].size){g.splice(r,0,l),u=!0;break}u||g.push(l)}return g}function i(t){function i(t){o.settings("eventsEnabled")&&(o.dispatchEvent("click",t.data),n=e(t),n.length?(o.dispatchEvent("clickNode",{node:n[0]}),o.dispatchEvent("clickNodes",{node:n})):o.dispatchEvent("clickStage"))}function r(){if(o.settings("eventsEnabled")){var t,e,i,r=[];for(t in s)r.push(s[t]);for(s={},e=0,i=r.length;i>e;e++)o.dispatchEvent("outNode",{node:r[e]});r.length&&o.dispatchEvent("outNodes",{nodes:r})}}function a(t){if(o.settings("eventsEnabled")){n=e(t);var i,r,a,l=[],d=[],h={},c=n.length;for(i=0;c>i;i++)a=n[i],h[a.id]=a,s[a.id]||(d.push(a),s[a.id]=a);for(r in s)h[r]||(l.push(s[r]),delete s[r]);for(i=0,c=d.length;c>i;i++)o.dispatchEvent("overNode",{node:d[i]});for(i=0,c=l.length;c>i;i++)o.dispatchEvent("outNode",{node:l[i]});d.length&&o.dispatchEvent("overNodes",{nodes:d}),l.length&&o.dispatchEvent("outNodes",{nodes:l})}}var n,s={};t.bind("click",i),t.bind("mouseup",a),t.bind("mousemove",a),t.bind("mouseout",r)}var r,a,n,s,o=this;for(r=0,a=this.captors.length;a>r;r++)i(this.captors[r])}}.call(this),function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";sigma.utils.pkg("sigma.misc"),sigma.misc.drawHovers=function(t){function e(){i.contexts.hover.canvas.width=i.contexts.hover.canvas.width;var e,a=sigma.canvas.hovers,n=i.settings.embedObjects({prefix:t});if(n("enableHovering"))for(e in r)(a[r[e].type]||a.def)(r[e],i.contexts.hover,n)}var i=this,r={};this.bind("overNodes",function(t){var i,a=t.data.nodes,n=a.length;for(i=0;n>i;i++)r[a[i].id]=a[i];e()}),this.bind("outNodes",function(t){var i,a=t.data.nodes,n=a.length;for(i=0;n>i;i++)delete r[a[i].id];e()}),this.bind("render",function(){e()})}}.call(this)}).call(window)},,,,function(module,exports,__webpack_require__){var jade=__webpack_require__(3);module.exports=function anonymous(locals,attrs,escape,rethrow,merge){attrs=attrs||jade.attrs,escape=escape||jade.escape,rethrow=rethrow||jade.rethrow,merge=merge||jade.merge;var buf=[];with(locals||{}){var interp;buf.push('<div class="jumbotron"><h1>Page <code>'+escape(null==(interp=page)?"":interp)+'</code> not found</h1><p><a href="#home" class="btn btn-primary btn-lg">Back home</a></p></div>')}return buf.join("")}},,,,,,,,function(t,e){var i={};e.setFile=function(t,e){i[t]=e},e.readFileSync=function(t){return i[t]||""}},,function(t){t.exports=function(t){var e=document.createElement("style");e.type="text/css",e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),document.getElementsByTagName("head")[0].appendChild(e)}},function(t,e,i){i(49)(i(34))},function(){!function(){"use strict";if("undefined"==typeof sigma)throw"sigma is not declared";var t=sigma.utils.pkg("sigma.layout.forceatlas2");t.ForceAtlas2=function(e,i){var r=this;this.graph=e,this.p=sigma.utils.extend(i||{},t.defaultSettings),this.state={step:0,index:0},this.init=function(){return r.state={step:0,index:0},r.graph.nodes().forEach(function(t){t.fa2={mass:1+r.graph.degree(t.id),old_dx:0,old_dy:0,dx:0,dy:0}}),r},this.go=function(){for(;r.atomicGo(););},this.atomicGo=function(){var e,i,a,n,s,o,l,d=r.graph,h=d.nodes,c=d.edges,u=h(),g=c(),f=r.p.complexIntervals,m=r.p.simpleIntervals;switch(r.state.step){case 0:for(e=0,n=u.length;n>e;e++)i=u[e],i.fa2=i.fa2?{mass:1+r.graph.degree(i.id),old_dx:i.fa2.dx||0,old_dy:i.fa2.dy||0,dx:0,dy:0}:{mass:1+r.graph.degree(i.id),old_dx:0,old_dy:0,dx:0,dy:0};if(r.p.barnesHutOptimize&&(r.rootRegion=new t.Region(u,0),r.rootRegion.buildSubRegions()),r.p.outboundAttractionDistribution){for(r.p.outboundAttCompensation=0,e=0,n=u.length;n>e;e++)i=u[e],r.p.outboundAttCompensation+=i.fa2.mass;r.p.outboundAttCompensation/=u.length}return r.state.step=1,r.state.index=0,!0;case 1:var p,y,x,b,v,w,A=r.ForceFactory.buildRepulsion(r.p.adjustSizes,r.p.scalingRatio);if(r.p.barnesHutOptimize){for(v=r.rootRegion,w=r.p.barnesHutTheta,e=r.state.index;e<u.length&&e<r.state.index+f;)(i=u[e++]).fa2&&v.applyForce(i,A,w);e===u.length?r.state={step:2,index:0}:r.state.index=e}else{for(x=r.state.index;x<u.length&&x<r.state.index+f;)if((p=u[x++]).fa2)for(b=0;x>b;b++)(y=u[b]).fa2&&A.apply_nn(p,y);x===u.length?r.state={step:2,index:0}:r.state.index=x}return!0;case 2:var E=r.p.strongGravityMode?r.ForceFactory.getStrongGravity(r.p.scalingRatio):r.ForceFactory.buildRepulsion(r.p.adjustSizes,r.p.scalingRatio),_=r.p.gravity,T=r.p.scalingRatio;for(e=r.state.index;e<u.length&&e<r.state.index+m;)i=u[e++],i.fa2&&E.apply_g(i,_/T);return e===u.length?r.state={step:3,index:0}:r.state.index=e,!0;case 3:var M=r.ForceFactory.buildAttraction(r.p.linLogMode,r.p.outboundAttractionDistribution,r.p.adjustSizes,r.p.outboundAttractionDistribution?r.p.outboundAttCompensation:1);if(e=r.state.index,0===r.p.edgeWeightInfluence)for(;e<g.length&&e<r.state.index+f;)a=g[e++],M.apply_nn(h(a.source),h(a.target),1);else if(1===r.p.edgeWeightInfluence)for(;e<g.length&&e<r.state.index+f;)a=g[e++],M.apply_nn(h(a.source),h(a.target),a.weight||1);else for(;e<g.length&&e<r.state.index+f;)a=g[e++],M.apply_nn(h(a.source),h(a.target),Math.pow(a.weight||1,r.p.edgeWeightInfluence));return e===g.length?r.state={step:4,index:0}:r.state.index=e,!0;case 4:var S,R,P=0,N=0;for(e=0,n=u.length;n>e;e++)i=u[e],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt(Math.pow(i.fa2.old_dx-i.fa2.dx,2)+Math.pow(i.fa2.old_dy-i.fa2.dy,2)),P+=i.fa2.mass*o,N+=.5*i.fa2.mass*Math.sqrt(Math.pow(i.fa2.old_dx+i.fa2.dx,2)+Math.pow(i.fa2.old_dy+i.fa2.dy,2)));for(r.p.totalSwinging=P,r.p.totalEffectiveTraction=N,R=Math.pow(r.p.jitterTolerance,2)*r.p.totalEffectiveTraction/r.p.totalSwinging,S=.5,r.p.speed=r.p.speed+Math.min(R-r.p.speed,S*r.p.speed),e=0,n=u.length;n>e;e++)i=u[e],i.old_x=+i.x,i.old_y=+i.y;return r.state.step=5,!0;case 5:var C,I;if(e=r.state.index,r.p.adjustSizes)for(I=r.p.speed;e<u.length&&e<r.state.index+m;)i=u[e++],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt((i.fa2.old_dx-i.fa2.dx)*(i.fa2.old_dx-i.fa2.dx)+(i.fa2.old_dy-i.fa2.dy)*(i.fa2.old_dy-i.fa2.dy)),l=.1*I/(1+I*Math.sqrt(o)),C=Math.sqrt(Math.pow(i.fa2.dx,2)+Math.pow(i.fa2.dy,2)),l=Math.min(l*C,10)/C,i.x+=i.fa2.dx*l,i.y+=i.fa2.dy*l);else for(I=r.p.speed;e<u.length&&e<r.state.index+m;)i=u[e++],s=i.fixed||!1,!s&&i.fa2&&(o=Math.sqrt((i.fa2.old_dx-i.fa2.dx)*(i.fa2.old_dx-i.fa2.dx)+(i.fa2.old_dy-i.fa2.dy)*(i.fa2.old_dy-i.fa2.dy)),l=I/(1+I*Math.sqrt(o)),i.x+=i.fa2.dx*l,i.y+=i.fa2.dy*l);return e===u.length?(r.state={step:0,index:0},!1):(r.state.index=e,!0);default:throw new Error("ForceAtlas2 - atomic state error")}},this.clean=function(){var t,e=this.graph.nodes(),i=e.length;for(t=0;i>t;t++)delete e[t].fa2},this.setAutoSettings=function(){var t=this.graph;return this.p.scalingRatio=t.nodes().length>=100?2:10,this.p.strongGravityMode=!1,this.p.gravity=1,this.p.outboundAttractionDistribution=!1,this.p.linLogMode=!1,this.p.adjustSizes=!1,this.p.edgeWeightInfluence=1,this.p.jitterTolerance=t.nodes().length>=5e4?10:t.nodes().length>=5e3?1:.1,this.p.barnesHutOptimize=t.nodes().length>=1e3?!0:!1,this.p.barnesHutTheta=1.2,this},this.kill=function(){},this.ForceFactory={buildRepulsion:function(t,e){return t?new this.linRepulsion_antiCollision(e):new this.linRepulsion(e)},getStrongGravity:function(t){return new this.strongGravity(t)},buildAttraction:function(t,e,i,r){return i?t?e?new this.logAttraction_degreeDistributed_antiCollision(r):new this.logAttraction_antiCollision(r):e?new this.linAttraction_degreeDistributed_antiCollision(r):new this.linAttraction_antiCollision(r):t?e?new this.logAttraction_degreeDistributed(r):new this.logAttraction(r):e?new this.linAttraction_massDistributed(r):new this.linAttraction(r)},linRepulsion:function(t){this.coefficient=t,this.apply_nn=function(t,e){if(t.fa2&&e.fa2){var i=t.x-e.x,r=t.y-e.y,a=Math.sqrt(i*i+r*r);if(a>0){var n=this.coefficient*t.fa2.mass*e.fa2.mass/Math.pow(a,3);t.fa2.dx+=i*n,t.fa2.dy+=r*n,e.fa2.dx-=i*n,e.fa2.dy-=r*n}}},this.apply_nr=function(t,e){var i=t.x-e.p.massCenterX,r=t.y-e.p.massCenterY,a=Math.sqrt(i*i+r*r);if(a>0){var n=this.coefficient*t.fa2.mass*e.p.mass/Math.pow(a,3);t.fa2.dx+=i*n,t.fa2.dy+=r*n}},this.apply_g=function(t,e){var i=t.x,r=t.y,a=Math.sqrt(i*i+r*r);if(a>0){var n=this.coefficient*t.fa2.mass*e/a;t.fa2.dx-=i*n,t.fa2.dy-=r*n}}},linRepulsion_antiCollision:function(t){this.coefficient=t,this.apply_nn=function(t,e){var i;if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a)-t.size-e.size;n>0?(i=this.coefficient*t.fa2.mass*e.fa2.mass/Math.pow(n,3),t.fa2.dx+=r*i,t.fa2.dy+=a*i,e.fa2.dx-=r*i,e.fa2.dy-=a*i):0>n&&(i=100*this.coefficient*t.fa2.mass*e.fa2.mass,t.fa2.dx+=r*i,t.fa2.dy+=a*i,e.fa2.dx-=r*i,e.fa2.dy-=a*i)}},this.apply_nr=function(t,e){var i,r=t.fa2.x()-e.getMassCenterX(),a=t.fa2.y()-e.getMassCenterY(),n=Math.sqrt(r*r+a*a);n>0?(i=this.coefficient*t.fa2.mass*e.getMass()/Math.pow(n,2),t.fa2.dx+=r*i,t.fa2.dy+=a*i):0>n&&(i=-this.coefficient*t.fa2.mass*e.getMass()/n,t.fa2.dx+=r*i,t.fa2.dy+=a*i)},this.apply_g=function(t,e){var i=t.x,r=t.y,a=Math.sqrt(i*i+r*r);if(a>0){var n=this.coefficient*t.fa2.mass*e/a;t.fa2.dx-=i*n,t.fa2.dy-=r*n}}},strongGravity:function(t){this.coefficient=t,this.apply_nn=function(){},this.apply_nr=function(){},this.apply_g=function(t,e){var i=t.x,r=t.y,a=Math.sqrt(i*i+r*r);if(a>0){var n=this.coefficient*t.fa2.mass*e;t.fa2.dx-=i*n,t.fa2.dy-=r*n}}},linAttraction:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=-this.coefficient*i;t.fa2.dx+=r*n,t.fa2.dy+=a*n,e.fa2.dx-=r*n,e.fa2.dy-=a*n}}},linAttraction_massDistributed:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=-this.coefficient*i/t.fa2.mass;t.fa2.dx+=r*n,t.fa2.dy+=a*n,e.fa2.dx-=r*n,e.fa2.dy-=a*n}}},logAttraction:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}},logAttraction_degreeDistributed:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n/t.fa2.mass;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}},linAttraction_antiCollision:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}},linAttraction_degreeDistributed_antiCollision:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i/t.fa2.mass;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}},logAttraction_antiCollision:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}},logAttraction_degreeDistributed_antiCollision:function(t){this.coefficient=t,this.apply_nn=function(t,e,i){if(t.fa2&&e.fa2){var r=t.x-e.x,a=t.y-e.y,n=Math.sqrt(r*r+a*a);if(n>0){var s=-this.coefficient*i*Math.log(1+n)/n/t.fa2.mass;t.fa2.dx+=r*s,t.fa2.dy+=a*s,e.fa2.dx-=r*s,e.fa2.dy-=a*s}}}}}},t.Region=function(t,e){this.depthLimit=20,this.size=0,this.nodes=t,this.subregions=[],this.depth=e,this.p={mass:0,massCenterX:0,massCenterY:0},this.updateMassAndGeometry()
},t.Region.prototype.updateMassAndGeometry=function(){if(this.nodes.length>1){var t=0,e=0,i=0;this.nodes.forEach(function(r){t+=r.fa2.mass,e+=r.x*r.fa2.mass,i+=r.y*r.fa2.mass});var r,a=e/t,n=i/t;this.nodes.forEach(function(t){var e=Math.sqrt((t.x-a)*(t.x-a)+(t.y-n)*(t.y-n));r=Math.max(r||2*e,2*e)}),this.p.mass=t,this.p.massCenterX=a,this.p.massCenterY=n,this.size=r}},t.Region.prototype.buildSubRegions=function(){if(this.nodes.length>1){var e,i,r,a,n=[],s=[],o=[],l=this.p.massCenterX,d=this.p.massCenterY,h=this.depth+1,c=this,u=[],g=[],f=[],m=[];this.nodes.forEach(function(t){e=t.x<l?n:s,e.push(t)}),n.forEach(function(t){i=t.y<d?u:g,i.push(t)}),s.forEach(function(t){i=t.y<d?m:f,i.push(t)}),[u,g,f,m].filter(function(t){return t.length}).forEach(function(e){h<=c.depthLimit&&e.length<c.nodes.length?(a=new t.Region(e,h),o.push(a)):e.forEach(function(e){r=[e],a=new t.Region(r,h),o.push(a)})}),this.subregions=o,o.forEach(function(t){t.buildSubRegions()})}},t.Region.prototype.applyForce=function(t,e,i){if(this.nodes.length<2){var r=this.nodes[0];e.apply_nn(t,r)}else{var a=Math.sqrt((t.x-this.p.massCenterX)*(t.x-this.p.massCenterX)+(t.y-this.p.massCenterY)*(t.y-this.p.massCenterY));a*i>this.size?e.apply_nr(t,this):this.subregions.forEach(function(r){r.applyForce(t,e,i)})}},sigma.prototype.startForceAtlas2=function(){function e(){conrad.hasJob("forceatlas2_"+i.id)||conrad.addJob({id:"forceatlas2_"+i.id,job:i.forceatlas2.atomicGo,end:function(){i.refresh(),i.forceatlas2.isRunning&&e()}})}if((this.forceatlas2||{}).isRunning)return this;this.forceatlas2||(this.forceatlas2=new t.ForceAtlas2(this.graph),this.forceatlas2.setAutoSettings(),this.forceatlas2.init()),this.forceatlas2.isRunning=!0;var i=this;return e(),this},sigma.prototype.stopForceAtlas2=function(){return conrad.hasJob("forceatlas2_"+this.id)&&conrad.killJob("forceatlas2_"+this.id),(this.forceatlas2||{}).isRunning&&(this.forceatlas2.state={step:0,index:0},this.forceatlas2.isRunning=!1,this.forceatlas2.clean()),this},t.defaultSettings={autoSettings:!0,linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:0,scalingRatio:1,strongGravityMode:!1,gravity:1,jitterTolerance:1,barnesHutOptimize:!1,barnesHutTheta:1.2,speed:1,outboundAttCompensation:1,totalSwinging:0,totalEffectiveTraction:0,complexIntervals:500,simpleIntervals:1e3}}()}]);